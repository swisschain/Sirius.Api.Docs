
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Sirius API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-ff9a2c76.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-c427a123.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;protobuf&quot;,&quot;json&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/Lykke_White.png" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="protobuf">protobuf</a>
              <a href="#" data-language-name="json">json</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#sirius-brokerage-api" class="toc-h1 toc-link" data-title="Sirius - Brokerage API">Sirius - Brokerage API</a>
          </li>
          <li>
            <a href="#feedback" class="toc-h1 toc-link" data-title="Feedback">Feedback</a>
          </li>
          <li>
            <a href="#change-log" class="toc-h1 toc-link" data-title="Change Log">Change Log</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2020-09-29-beta-1" class="toc-h2 toc-link" data-title="2020-09-29 | Beta 1">2020-09-29 | Beta 1</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#protocol-description" class="toc-h1 toc-link" data-title="Protocol description">Protocol description</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#allowed-http-verbs" class="toc-h2 toc-link" data-title="Allowed HTTP Verbs">Allowed HTTP Verbs</a>
                  </li>
                  <li>
                    <a href="#description-of-http-server-responses" class="toc-h2 toc-link" data-title="Description Of HTTP Server Responses">Description Of HTTP Server Responses</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#error-responses" class="toc-h2 toc-link" data-title="Error responses">Error responses</a>
                  </li>
                  <li>
                    <a href="#pagination" class="toc-h2 toc-link" data-title="Pagination">Pagination</a>
                  </li>
                  <li>
                    <a href="#decimal-number" class="toc-h2 toc-link" data-title="Decimal number">Decimal number</a>
                  </li>
                  <li>
                    <a href="#timestamp" class="toc-h2 toc-link" data-title="Timestamp">Timestamp</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#api-usage" class="toc-h1 toc-link" data-title="API usage">API usage</a>
          </li>
          <li>
            <a href="#examples" class="toc-h1 toc-link" data-title="Examples">Examples</a>
          </li>
          <li>
            <a href="#blockchains" class="toc-h1 toc-link" data-title="Blockchains">Blockchains</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#search-blockchains" class="toc-h2 toc-link" data-title="Search blockchains">Search blockchains</a>
                  </li>
                  <li>
                    <a href="#get-latest-block" class="toc-h2 toc-link" data-title="Get latest block">Get latest block</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#assets" class="toc-h1 toc-link" data-title="Assets">Assets</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#search-assets" class="toc-h2 toc-link" data-title="Search assets">Search assets</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#vaults" class="toc-h1 toc-link" data-title="Vaults">Vaults</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#vault-creation" class="toc-h2 toc-link" data-title="Vault creation">Vault creation</a>
                  </li>
                  <li>
                    <a href="#vault-update" class="toc-h2 toc-link" data-title="Vault update">Vault update</a>
                  </li>
                  <li>
                    <a href="#vaults-search" class="toc-h2 toc-link" data-title="Vaults search">Vaults search</a>
                  </li>
                  <li>
                    <a href="#vault-api-key-creation" class="toc-h2 toc-link" data-title="Vault API key creation">Vault API key creation</a>
                  </li>
                  <li>
                    <a href="#vault-api-keys-search" class="toc-h2 toc-link" data-title="Vault API keys search">Vault API keys search</a>
                  </li>
                  <li>
                    <a href="#vault-api-key-token-obtaining" class="toc-h2 toc-link" data-title="Vault API key token obtaining">Vault API key token obtaining</a>
                  </li>
                  <li>
                    <a href="#vault-api-key-token-revocation" class="toc-h2 toc-link" data-title="Vault API key token revocation">Vault API key token revocation</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#broker-accounts" class="toc-h1 toc-link" data-title="Broker accounts">Broker accounts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-broker-account" class="toc-h2 toc-link" data-title="Create a broker account">Create a broker account</a>
                  </li>
                  <li>
                    <a href="#update-the-broker-account" class="toc-h2 toc-link" data-title="Update the broker account">Update the broker account</a>
                  </li>
                  <li>
                    <a href="#searches-broker-accounts" class="toc-h2 toc-link" data-title="Searches broker accounts">Searches broker accounts</a>
                  </li>
                  <li>
                    <a href="#searches-the-broker-account-balances" class="toc-h2 toc-link" data-title="Searches the broker account balances">Searches the broker account balances</a>
                  </li>
                  <li>
                    <a href="#searches-the-broker-account-details" class="toc-h2 toc-link" data-title="Searches the broker account details">Searches the broker account details</a>
                  </li>
                  <li>
                    <a href="#gets-the-broker-account-details-by-the-asset-id" class="toc-h2 toc-link" data-title="Gets the broker account details by the asset id">Gets the broker account details by the asset id</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#accounts" class="toc-h1 toc-link" data-title="Accounts">Accounts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-an-account" class="toc-h2 toc-link" data-title="Create an account">Create an account</a>
                  </li>
                  <li>
                    <a href="#update-an-account" class="toc-h2 toc-link" data-title="Update an account">Update an account</a>
                  </li>
                  <li>
                    <a href="#search-for-accounts" class="toc-h2 toc-link" data-title="Search for accounts">Search for accounts</a>
                  </li>
                  <li>
                    <a href="#searches-the-account-details" class="toc-h2 toc-link" data-title="Searches the account details">Searches the account details</a>
                  </li>
                  <li>
                    <a href="#gets-the-account-details-by-the-asset-id" class="toc-h2 toc-link" data-title="Gets the account details by the asset id">Gets the account details by the asset id</a>
                  </li>
                  <li>
                    <a href="#search-for-account-updates" class="toc-h2 toc-link" data-title="Search for account updates">Search for account updates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#deposits" class="toc-h1 toc-link" data-title="Deposits">Deposits</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#searches-deposits" class="toc-h2 toc-link" data-title="Searches deposits">Searches deposits</a>
                  </li>
                  <li>
                    <a href="#searches-deposit-updates" class="toc-h2 toc-link" data-title="Searches deposit updates">Searches deposit updates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#withdrawals" class="toc-h1 toc-link" data-title="Withdrawals">Withdrawals</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#starts-a-withdrawal" class="toc-h2 toc-link" data-title="Starts a withdrawal">Starts a withdrawal</a>
                  </li>
                  <li>
                    <a href="#searches-withdrawals" class="toc-h2 toc-link" data-title="Searches withdrawals">Searches withdrawals</a>
                  </li>
                  <li>
                    <a href="#searches-withdrawal-updates" class="toc-h2 toc-link" data-title="Searches withdrawal updates">Searches withdrawal updates</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#data-structures" class="toc-h1 toc-link" data-title="Data structures">Data structures</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#order-enum" class="toc-h2 toc-link" data-title="Order (enum)">Order (enum)</a>
                  </li>
                  <li>
                    <a href="#networktype-enum" class="toc-h2 toc-link" data-title="NetworkType (enum)">NetworkType (enum)</a>
                  </li>
                  <li>
                    <a href="#blockchainprotocol-object" class="toc-h2 toc-link" data-title="BlockchainProtocol (object)">BlockchainProtocol (object)</a>
                  </li>
                  <li>
                    <a href="#tagtype-enum" class="toc-h2 toc-link" data-title="TagType (enum)">TagType (enum)</a>
                  </li>
                  <li>
                    <a href="#doublespendingprotectiontype-enum" class="toc-h2 toc-link" data-title="DoubleSpendingProtectionType (enum)">DoubleSpendingProtectionType (enum)</a>
                  </li>
                  <li>
                    <a href="#brokeraccountstate-enum" class="toc-h2 toc-link" data-title="BrokerAccountState (enum)">BrokerAccountState (enum)</a>
                  </li>
                  <li>
                    <a href="#accountstate-enum" class="toc-h2 toc-link" data-title="AccountState (enum)">AccountState (enum)</a>
                  </li>
                  <li>
                    <a href="#vaulttype-enum" class="toc-h2 toc-link" data-title="VaultType (enum)">VaultType (enum)</a>
                  </li>
                  <li>
                    <a href="#brokeraccountdetails-object" class="toc-h2 toc-link" data-title="BrokerAccountDetails (object)">BrokerAccountDetails (object)</a>
                  </li>
                  <li>
                    <a href="#brokeraccountdetailsbrief-object" class="toc-h2 toc-link" data-title="BrokerAccountDetailsBrief (object)">BrokerAccountDetailsBrief (object)</a>
                  </li>
                  <li>
                    <a href="#accountdetails-object" class="toc-h2 toc-link" data-title="AccountDetails (object)">AccountDetails (object)</a>
                  </li>
                  <li>
                    <a href="#accountdetailsbrief-object" class="toc-h2 toc-link" data-title="AccountDetailsBrief (object)">AccountDetailsBrief (object)</a>
                  </li>
                  <li>
                    <a href="#brokeraccountbalances-object" class="toc-h2 toc-link" data-title="BrokerAccountBalances (object)">BrokerAccountBalances (object)</a>
                  </li>
              </ul>
          </li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='sirius-brokerage-api'>Sirius - Brokerage API</h1>
<p>Sirius is an API allowing consumers to work with wallets and transfers in many different blockchains in the common manner. You don&#39;t need to learn particularities of all the blockchains to receive crypto or tockens from your users or to send withdrawals to someone.</p>

<p>It&#39;s easy as one, two, three!</p>

<ul>
<li>Create as many brokerage accounts as you need.</li>
<li>Create accounts associated with your users, contracts, bills, or whatever you need whithin these broker accounts.</li>
<li>You are ready to receive deposits and send withdrawals using our awesome API!</li>
</ul>

<p>For more information about Swisschain, please visit <a href="https://swisschain.io/">swisschain.io</a>.</p>
<h1 id='feedback'>Feedback</h1>
<p>In the case, if you have found an issue in <a href="https://sirius.swisschain.io/">REST API</a>, <a href="https://sirius-grpc.swisschain.io">gRPC API</a>, <a href="https://universe.swisschain.io/">Universe portal</a>, or in this documentation, please give us feedback by adding a <a href="https://github.com/swisschain/Sirius/issues/new">GitHub issue</a>. Thank you!</p>
<h1 id='change-log'>Change Log</h1><h2 id='2020-09-29-beta-1'>2020-09-29 | Beta 1</h2>
<p>First public release of the API</p>
<h1 id='protocol-description'>Protocol description</h1><h2 id='allowed-http-verbs'>Allowed HTTP Verbs</h2>
<ul>
<li><code>PUT</code> : Updates a resource.</li>
<li><code>POST</code> : Creates a resource.</li>
<li><code>GET</code> : Gets a resource or a list of resources.</li>
<li><code>DELETE</code> : Deletes a resource.</li>
</ul>
<h2 id='description-of-http-server-responses'>Description Of HTTP Server Responses</h2>
<ul>
<li>200 <code>OK</code> : the request was successful.</li>
<li>201 <code>Created</code> : the request was successful and a resource was created.</li>
<li>204 <code>No Content</code> : the request was successful but there is no representation to return.</li>
<li>400 <code>Bad Request</code> : the request has invalid or missing required parameters.</li>
<li>401 <code>Unauthorized</code> : authentication failed.</li>
<li>403 <code>Forbidden</code> : access denied.</li>
<li>404 <code>Not Found</code> : resource was not found.</li>
</ul>
<h2 id='authentication'>Authentication</h2>
<p>Sirius API uses <code>Bearer authentication</code>. To get the token, register in our <a href="https://universe.swisschain.io/">Universe portal</a>, create a subscription and create an API key. We use JWT as the API key, so you can explore which claims particular token contains using <a href="https://jwt.io">jwt.io</a> online service.</p>

<blockquote>
<p>Request Header</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">  </span><span class="nl">"Authorization"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer **********************************"</span><span class="w">
</span></code></pre></div><h2 id='error-responses'>Error responses</h2>
<p>Until other is specified for the particular endpoint and HTTP status code, the error response model is:</p>

<ul>
<li><code>errors</code> - errors map, where key is a request field name.

<ul>
<li><code>&quot;&quot;</code> (array[string]) - (the key is empty string) the array of the summary errors which are not associated with any request fields directly.</li>
<li><code>propertyName</code> (array[string]) - the array of the errors associated with the propertyName field of the request.</li>
</ul></li>
</ul>

<blockquote>
<p>Error response.</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">""</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Errors summary"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Invalid order"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Limit should be in the range 1..1000"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='pagination'>Pagination</h2>
<p>Sirius API uses cursor-based pagination model in all endpoints which can return loads of items.</p>

<p>Pagination parameters are passed via query string. The parameters can be:</p>

<ul>
<li><code>order</code> : (<strong><em>optional</em></strong>, <strong>Order</strong>) - sorting order of the result. Items always sorted by the ID.</li>
<li><code>cursor</code> : (<strong><em>optional</em></strong>) ID of the item, after which result should be returned. Type of the cursor is the same as the ID type of the queried items.</li>
<li><code>limit</code> : (<strong><em>optional</em></strong>, <strong>number</strong>) specifies how many items should be returned at maximum.</li>
</ul>

<p>The response is:</p>
<h3 id='paginated'>Paginated</h3>
<ul>
<li><code>pagination</code> - pagination state.

<ul>
<li><code>cursor</code> - current cursor.</li>
<li><code>count</code> (number) - count of the items in the response.</li>
<li><code>order</code> (Order) - current order.</li>
<li><code>nextUrl</code> (string) - relative URL of the next items page.</li>
<li><code>items</code> (array[object]) - the array of the queried items.</li>
</ul></li>
</ul>
<h2 id='decimal-number'>Decimal number</h2>
<p>Here you can see how <code>decimal</code> numbers are presented (Price, Volume, Amount, etc) in API contract.</p>

<p>In the <code>Rest API</code>, the decimal type is presented as a number with strict precision.</p>

<blockquote>
<p>Decimal number example</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">222231.33420001911</span><span class="p">,</span><span class="w">
    </span><span class="nl">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0000001</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='timestamp'>Timestamp</h2>
<p><code>iso 8601</code> is used for the timestamps in the form <code>2020-08-04T08:05:09.039924+00:00</code></p>

<blockquote>
<p>Timestamp example </p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
   </span><span class="nl">"Timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-04T08:05:09.039924+00:00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='api-usage'>API usage</h1><h1 id='examples'>Examples</h1><h1 id='blockchains'>Blockchains</h1>
<p>We distinguish <em>Blockchain</em>, <em>Protocol</em>, and <em>Network Type</em>.</p>

<p><em>Blockchain</em> is not just Bitcoin or Ethereum, it&#39;s a particular network. For example Bitcoin MainNet, Ethereum Ropsten are blockchains, whilst Bitcoin and Ethereum are protocols which are used by these blockchains. Networks can be one of the types - <code>private</code>, <code>test</code>, <code>public</code>. So Blockchain has a protocol and network type.</p>

<p><em>Blockchain</em> is an &quot;instance&quot; of the protocol - Ethereum Ropsten, Bitcoin Mainnet, Ethereum Mainnet.</p>

<p>Protocol is a set of rules on how blockchain nodes interact with each other - <code>Bitcoin</code>, <code>Ethereum</code>, <code>Ripple</code>.</p>

<p>Network type can be <code>private</code>, <code>test</code>, or <code>public</code>.</p>
<h2 id='search-blockchains'>Search blockchains</h2><h3 id='request'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/blockchains</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Exact ID of the blockchain to search</td>
<td>bitcoin-private</td>
</tr>
<tr>
<td><code>name</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Text to search in the name of the blockchain</td>
<td>Bitcoin private network</td>
</tr>
<tr>
<td><code>protocolCode</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Exact ode of the protocol to search</td>
<td>bitcoin</td>
</tr>
<tr>
<td><code>protocolName</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Text to search in the name of the protocol</td>
<td>Bitcoin</td>
</tr>
<tr>
<td><code>networkType</code></td>
<td><em>optional</em>, <em><a href="#networkType">NetworkType</a></em></td>
<td>List of the network types to search. Repeat the parameter to specify multiple items</td>
<td>private</td>
</tr>
<tr>
<td><code>order</code></td>
<td><em>optional</em>, <em><a href="#order">Order</a></em></td>
<td>Result items sorting order</td>
<td>asc</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Cursor to continue the search</td>
<td>stellar-test</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Maximum number of items to return in the search results</td>
<td>10</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>Paginated array of the blockchains:</p>

<table><thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td>string</td>
<td>Unique identifier.</td>
<td><code>bitcoin-private</code></td>
</tr>
<tr>
<td><code>tenantId</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Id of the tenant that owns the blockchain</td>
<td>100000</td>
</tr>
<tr>
<td><code>name</code></td>
<td><em>string</em></td>
<td>Name of the blockchain</td>
<td><code>bitcoin-private</code></td>
</tr>
<tr>
<td><code>networkType</code></td>
<td><em><a href="#networkType">NetworkType</a></em></td>
<td>Type of the network</td>
<td></td>
</tr>
<tr>
<td><code>protocol</code></td>
<td><em><a href="#BlockchainProtocol">BlockchainProtocol</a></em></td>
<td>Protocol of the blockchain.</td>
<td></td>
</tr>
<tr>
<td><code>latestBlockNumber</code></td>
<td><em>number</em></td>
<td>Number of the latest block</td>
<td>1567432</td>
</tr>
</tbody></table>

<blockquote>
<p>GET /api/blockchains 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cursor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/blockchains?Order=Asc&amp;Cursor=stellar-test&amp;Limit=3"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin-private"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bitcoin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startBlockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requirements"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"destinationTag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"doubleSpendingProtectionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coins"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"tenantId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin private network"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"private"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"latestBlockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">5899</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum-ropsten"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ethereum"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startBlockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requirements"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"destinationTag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"doubleSpendingProtectionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nonce"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"tenantId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ethereum test network"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"latestBlockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">8450781</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stellar-test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stellar"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stellar"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"startBlockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"requirements"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"publicKey"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nl">"destinationTag"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"number"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"min"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
              </span><span class="nl">"max"</span><span class="p">:</span><span class="w"> </span><span class="mi">9223372036854776000</span><span class="p">,</span><span class="w">
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memo ID"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"text"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"maxLength"</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w">
              </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Memo text"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"doubleSpendingProtectionType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nonce"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"tenantId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stellar test network"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"networkType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"latestBlockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">133093</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='get-latest-block'>Get latest block</h2><h3 id='request-2'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/blockchains/{id}/latest-block</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><em>string</em></td>
<td>Exact ID of the blockchain to search</td>
<td>bitcoin-private</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<p>The latest block of the specified blockchain:</p>

<table><thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>blockNumber</code></td>
<td><em>number</em></td>
<td>Number of the latest block.</td>
<td>5933</td>
</tr>
</tbody></table>

<blockquote>
<p>GET /api/blockchains/{id}/latest-block 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"blockNumber"</span><span class="p">:</span><span class="w"> </span><span class="mi">5933</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='assets'>Assets</h1>
<p>Sirius provides the set of crypto assets available to use. You can get notifications about a deposit or initiate a withdrawal in any asset presented in this set. Each asset has a symbol, accuracy, optional address, ID of the blockchain containing this asset and unique ID. It&#39;s possible that in the different blockchains assets with the same symbol and/or address are existed, so you have to rely only on the asset ID if you need to deterministically identify it. In fact asset ID corresponds to its blockchain ID + symbol + address.</p>
<h2 id='search-assets'>Search assets</h2><h3 id='request'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/assets</code></p>
<h3 id='parameters'>Parameters</h3><h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>ID of the asset to search</td>
<td>100553</td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Exact blockchain id to search</td>
<td>bitcoin-private</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Text to search in the asset symbol</td>
<td>BTC</td>
</tr>
<tr>
<td><code>address</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Exact address to search</td>
<td>0xC1701AbD559FC263829CA3917d03045F95b5224A</td>
</tr>
<tr>
<td><code>accuracy</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Exact accuracy to search</td>
<td>8</td>
</tr>
<tr>
<td><code>order</code></td>
<td><em>optional</em>, <em><a href="#order">Order</a></em></td>
<td>Result items sorting order</td>
<td>asc</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Cursor to continue the search</td>
<td>stellar-test</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Maximum number of items to return in the search results</td>
<td>10</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>Paginated array of the assets:</p>

<table><thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the asset to search</td>
<td>100003</td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td><em>string</em></td>
<td>Exact blockchain id to search</td>
<td>bitcoin-private</td>
</tr>
<tr>
<td><code>symbol</code></td>
<td><em>string</em></td>
<td>Text to search in the asset symbol</td>
<td>BTC</td>
</tr>
<tr>
<td><code>address</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Exact address to search</td>
<td>0xC1701AbD559FC263829CA3917d03045F95b5224A</td>
</tr>
<tr>
<td><code>accuracy</code></td>
<td><em>number</em></td>
<td>Exact accuracy to search</td>
<td>8</td>
</tr>
</tbody></table>

<blockquote>
<p>GET /api/assets 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cursor"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/assets?Symbol=BTC&amp;Order=Asc&amp;Cursor=100110&amp;Limit=3"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100003</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchainId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum-ropsten"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"WBTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x3DFf0dCE5fc4B367Ec91d31DE3837cf3840c8284"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100085</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchainId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum-ropsten"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sBTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xC1701AbD559FC263829CA3917d03045F95b5224A"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100110</span><span class="p">,</span><span class="w">
      </span><span class="nl">"blockchainId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ethereum-ropsten"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TBTC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xa609f2c9C5B7873F353C15D4ef6e151D14db69CC"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='vaults'>Vaults</h1>
<p>A Vault is a place where private keys of your blockchain wallets are kept. It generates public/private key pairs and signs transactions using these private keys. In order to create any broker-account or account, receive or send transactions in Sirius, you have to create a Vault first. There are two types of the Vault:</p>

<ul>
<li>Shared - run and managed by SwissChain, shared between all the customers which uses it.</li>
<li>Private - can be run and managed either by <strong>SwissChain</strong> or by the <strong>Customer</strong>. It&#39;s fully secure and protected solution to keep your funds in save. The solutions is based on <strong>IBM HSM</strong>, <strong>Hyper Protect Virtual Servers</strong>, <strong>Hyper Protected DBaaS</strong>, <strong>Secure Image Build</strong>, <strong>Secure Image Deploy</strong>, and <strong>Operational Decision Manager</strong>. It can be run either in the cloud or on-premise. IBM HSM is the only solution in the industry which is <strong>FIPS 140-2 Level 4-certified</strong>. <a href="mailto:contact@swisschain.io">Contact</a> us to get help deploying of this type of the Vault.</li>
</ul>

<p>We recommend using Shared Vault for the testing purposes and private for the production environment.</p>
<h2 id='vault-creation'>Vault creation</h2><h3 id='request'>Request</h3>
<p><strong>Rest API:</strong> <code>POST /api/vaults</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.vaults.Vaults/Create</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/vaults</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json)</span><span class="w">

</span><span class="err">x-request-id:</span><span class="w"> </span><span class="mi">1</span><span class="err">a</span><span class="mi">5</span><span class="err">c</span><span class="mi">0</span><span class="err">b</span><span class="mi">3</span><span class="err">d</span><span class="mi">15494</span><span class="err">ec</span><span class="mi">8</span><span class="err">a</span><span class="mi">390</span><span class="err">fd</span><span class="mi">3</span><span class="err">b</span><span class="mi">22</span><span class="err">d</span><span class="mi">757</span><span class="err">d</span><span class="mi">6</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Vault"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"private"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">Create</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">VaultCreateRequest</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">request_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>    <span class="c1">// 1a5c0b3d15494ec8a390fd3b22d757d6</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>          <span class="c1">// "My Vault"</span>
  <span class="n">VaultType</span> <span class="na">type</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>       <span class="c1">// VaultType.PRIVATE</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Request-ID</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td>-</td>
<td><code>request_id</code></td>
<td><em>string</em></td>
<td>-</td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
<td>Name of the vault</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td><em><a href="#VaultType">VaultType</a></em></td>
<td><em>body</em></td>
<td>Type of the vault</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/vaults</span><span class="w"> 

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Vault"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"private"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"offline"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-24T21:43:02.6554641Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-24T21:43:02.6554641Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">Create</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">VaultCreateResponse</span> <span class="p">{</span>
    <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
      <span class="n">VaultCreateResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                         <span class="c1">// Object</span>
      <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// NULL</span>
    <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultCreateResponseBody</span> <span class="p">{</span>
  <span class="n">VaultResponse</span> <span class="na">vault</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                      <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                 <span class="c1">// 100010</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                              <span class="c1">// "My Vault"</span>
  <span class="n">VaultType</span> <span class="na">type</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                           <span class="c1">// VaultType.PRIVATE</span>
  <span class="n">VaultStatus</span> <span class="na">status</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                       <span class="c1">// VaultStatus.OFFLINE</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">created_at</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                     <span class="c1">// "2020-08-24T21:43:02.6554641Z"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updated_at</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                     <span class="c1">// "2020-08-24T21:43:02.6554641Z"</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the vault</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td>Name of the vault</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td><em><a href="#VaultType">VaultType</a></em></td>
<td>Type of the vault</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>status</code></td>
<td><em><a href="#VaultStatus">VaultStatus</a></em></td>
<td>Status of the vault</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the vault creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the vault update</td>
</tr>
</tbody></table>
<h2 id='vault-update'>Vault update</h2><h3 id='request-2'>Request</h3>
<p><strong>Rest API:</strong> <code>PUT /api/vaults/{vaultId}</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.vaults.Vaults/Update</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">PUT</span><span class="w"> </span><span class="err">/api/vaults/</span><span class="mi">100010</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json)</span><span class="w">

</span><span class="err">x-request-id:</span><span class="w"> </span><span class="mi">1</span><span class="err">a</span><span class="mi">5</span><span class="err">c</span><span class="mi">0</span><span class="err">b</span><span class="mi">3</span><span class="err">d</span><span class="mi">15494</span><span class="err">ec</span><span class="mi">8</span><span class="err">a</span><span class="mi">390</span><span class="err">fd</span><span class="mi">3</span><span class="err">b</span><span class="mi">22</span><span class="err">d</span><span class="mi">757</span><span class="err">d</span><span class="mi">6</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Secure Vault"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">Update</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">VaultUpdateRequest</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">request_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>    <span class="c1">// 1a5c0b3d15494ec8a390fd3b22d757d6</span>
  <span class="kt">int64</span> <span class="na">vault_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>       <span class="c1">// 100010</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>          <span class="c1">// "My Secure Vault"</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Request-ID</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td>-</td>
<td><code>request_id</code></td>
<td><em>string</em></td>
<td>-</td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>vaultId</code></td>
<td><code>vault_id</code></td>
<td><em>number</em></td>
<td><em>path</em></td>
<td>ID of the vault being update</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
<td>Name of the vault to set</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">PUT</span><span class="w"> </span><span class="err">/api/vaults/</span><span class="mi">100010</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Secure Vault"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"private"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"offline"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-24T21:43:02.6554641Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-24T21:43:02.6554641Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">Update</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">VaultUpdateResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">VaultUpdateResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                           <span class="c1">// Object</span>
    <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// NULL</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultUpdateResponseBody</span> <span class="p">{</span>
  <span class="n">VaultResponse</span> <span class="na">vault</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                      <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                 <span class="c1">// 100010</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                              <span class="c1">// "My Secure Vault"</span>
  <span class="n">VaultType</span> <span class="na">type</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                           <span class="c1">// VaultType.PRIVATE</span>
  <span class="n">VaultStatus</span> <span class="na">status</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                       <span class="c1">// VaultStatus.OFFLINE</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">created_at</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                     <span class="c1">// "2020-08-24T21:43:02.6554641Z"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updated_at</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                     <span class="c1">// "2020-08-24T21:43:02.6554641Z"</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the vault</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td>Name of the vault</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td><em><a href="#VaultType">VaultType</a></em></td>
<td>Type of the vault</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>status</code></td>
<td><em><a href="#VaultStatus">VaultStatus</a></em></td>
<td>Status of the vault</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the vault creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the vault update</td>
</tr>
</tbody></table>
<h2 id='vaults-search'>Vaults search</h2><h3 id='request-3'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/vaults</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.vaults.Vaults/Search</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/vaults?id=</span><span class="mi">100010</span><span class="err">&amp;name=My%</span><span class="mi">20</span><span class="err">Vault&amp;type=private&amp;order=asc&amp;cursor=</span><span class="mi">100009</span><span class="err">&amp;limit=</span><span class="mi">3</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">VaultSearchRequest</span> <span class="p">{</span>  
  <span class="n">google.protobuf.Int64Value</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                            <span class="c1">// 100010</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                         <span class="c1">// "My Vault"</span>
  <span class="k">repeated</span> <span class="n">VaultType</span> <span class="na">type</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                  <span class="c1">// Array&lt;VaultType&gt;</span>
  <span class="n">swisschain.sirius.api.common.PaginationInt64</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>  <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">PaginationInt64</span> <span class="p">{</span>
  <span class="n">PaginationOrder</span> <span class="na">order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                    <span class="c1">// PaginationOrder.ASC</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">cursor</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                        <span class="c1">// 100009</span>
  <span class="kt">int32</span> <span class="na">limit</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                              <span class="c1">// 3</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number, optional</em></td>
<td><em>query</em></td>
<td>Exact ID of the vault to search</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string, optional</em></td>
<td><em>query</em></td>
<td>Name of the vault to search</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td><em>Array&lt;<a href="#VaultType">VaultType</a>&gt;, optional</em></td>
<td><em>query</em></td>
<td>Zero or several vault types to search</td>
</tr>
<tr>
<td><code>order</code></td>
<td><code>pagination.order</code></td>
<td><em><a href="#order">Order</a>, optional</em></td>
<td><em>query</em></td>
<td>Results sorting order</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><code>pagination.cursor</code></td>
<td><em>number, optional</em></td>
<td><em>query</em></td>
<td>Cursor to continue search from</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><code>pagination.limit</code></td>
<td><em>number, optional</em></td>
<td><em>query</em></td>
<td>Max numbers of the items to return from the server</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/vaults?&amp;name=Vault&amp;type=private&amp;order=asc&amp;cursor=</span><span class="mi">100009</span><span class="err">&amp;limit=</span><span class="mi">3</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cursor"</span><span class="p">:</span><span class="w"> </span><span class="mi">100009</span><span class="p">,</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/api/vaults?&amp;name=Vault&amp;type=private&amp;order=asc&amp;cursor=100012&amp;limit=3"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100010</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Vault"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shared"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-27T22:08:56.976533Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-27T22:08:56.976533Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100011</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Secure Vault"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"private"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-27T22:08:56.976533Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-27T22:08:56.976533Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100012</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Vault"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"shared"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"online"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-27T22:08:56.976533Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-27T22:08:56.976533Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">VaultSearchResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">VaultSearchResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                   <span class="c1">// Object</span>
    <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>           <span class="c1">// NULL</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultSearchResponseBody</span> <span class="p">{</span>
  <span class="n">swisschain.sirius.api.common.PaginatedInt64Response</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>   <span class="c1">// Object</span>
  <span class="k">repeated</span> <span class="n">VaultResponse</span> <span class="na">items</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                     <span class="c1">// Array&lt;Object&gt;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultUpdateResponseBody</span> <span class="p">{</span>
  <span class="n">VaultResponse</span> <span class="na">vault</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                              <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">PaginatedInt64Response</span> <span class="p">{</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">cursor</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                <span class="c1">// 100009</span>
  <span class="kt">int32</span> <span class="na">count</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                                      <span class="c1">// 3</span>
  <span class="n">PaginationOrder</span> <span class="na">order</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                            <span class="c1">// PaginationOrder.ASC</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                         <span class="c1">// 100010</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                                      <span class="c1">// "My Secure Vault"</span>
  <span class="n">VaultType</span> <span class="na">type</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                                   <span class="c1">// VaultType.PRIVATE</span>
  <span class="n">VaultStatus</span> <span class="na">status</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                               <span class="c1">// VaultStatus.OFFLINE</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">created_at</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                             <span class="c1">// "2020-08-24T21:43:02.6554641Z"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updated_at</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                             <span class="c1">// "2020-08-24T21:43:02.6554641Z"</span>
<span class="p">}</span>
</code></pre></div>
<p><a href="#Pagination">Paginated</a> list of</p>

<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the vault</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td>Name of the vault</td>
</tr>
<tr>
<td><code>type</code></td>
<td><code>type</code></td>
<td><em><a href="#VaultType">VaultType</a></em></td>
<td>Type of the vault</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>status</code></td>
<td><em><a href="#VaultStatus">VaultStatus</a></em></td>
<td>Status of the vault</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the vault creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the vault update</td>
</tr>
</tbody></table>
<h2 id='vault-api-key-creation'>Vault API key creation</h2><h3 id='request-4'>Request</h3>
<p><strong>Rest API:</strong> <code>POST /api/vaults/{vaultId}/api-keys</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.vaults.Vaults/AddApiKey</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/vaults/</span><span class="mi">100010</span><span class="err">/api-keys</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json)</span><span class="w">

</span><span class="err">x-request-id:</span><span class="w"> </span><span class="err">d</span><span class="mi">5125</span><span class="err">d</span><span class="mi">2</span><span class="err">d</span><span class="mi">4</span><span class="err">d</span><span class="mi">9445</span><span class="err">efa</span><span class="mi">5414</span><span class="err">a</span><span class="mi">3926</span><span class="err">ab</span><span class="mi">00</span><span class="err">a</span><span class="mi">7</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API key for my vault"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-24T21:43:02.6554641Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">AddApiKey</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">VaultAddApiKeyRequest</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">request_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                        <span class="c1">// d5125d2d4d9445efa5414a3926ab00a7</span>
  <span class="kt">int64</span> <span class="na">vault_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                           <span class="c1">// 100010</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                              <span class="c1">// "API key for my vault"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">expires_at</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>     <span class="c1">// "2020-09-24T21:43:02.6554641Z"</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Request-ID</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td>-</td>
<td><code>request_id</code></td>
<td><em>string</em></td>
<td>-</td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>vaultId</code></td>
<td><code>vault_id</code></td>
<td><em>number</em></td>
<td><em>path</em></td>
<td>ID of the vault being update</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
<td>Name of the vault to set</td>
</tr>
<tr>
<td><code>expiresAt</code></td>
<td><code>expires_at</code></td>
<td><em>timestamp</em></td>
<td><em>body</em></td>
<td>Date of the API key expiration</td>
</tr>
</tbody></table>
<h3 id='response-4'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/vaults/</span><span class="mi">100010</span><span class="err">/api-keys</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100014</span><span class="p">,</span><span class="w">
  </span><span class="nl">"vaultId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100010</span><span class="p">,</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API key for my vault"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-24T21:43:02.6554641Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"issuedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-08-24T21:43:02.6554641Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"isRevoked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">AddApiKey</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">VaultAddApiKeyResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">VaultAddApiKeyResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                            <span class="c1">// Object</span>
    <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>       <span class="c1">// NULL</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultAddApiKeyResponseBody</span> <span class="p">{</span>
  <span class="n">VaultApiKeyResponse</span> <span class="na">vault_api_key</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                            <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultApiKeyResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                     <span class="c1">// 100014</span>
  <span class="kt">int64</span> <span class="na">vault_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                               <span class="c1">// 100010</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                                  <span class="c1">// "API key for my vault"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">expires_at</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                         <span class="c1">// "2020-09-24T21:43:02.6554641Z"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">issued_at</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                          <span class="c1">// "2020-08-24T21:43:02.6554641Z"</span>
  <span class="kt">bool</span> <span class="na">is_revoked</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                                              <span class="c1">// FALSE</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the vault API key</td>
</tr>
<tr>
<td><code>vaultId</code></td>
<td><code>vault_id</code></td>
<td><em>number</em></td>
<td>ID of the vault</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td>Name of the vault</td>
</tr>
<tr>
<td><code>expiresAt</code></td>
<td><code>expires_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the API key expiration</td>
</tr>
<tr>
<td><code>issuedAt</code></td>
<td><code>issued_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the API key issuance</td>
</tr>
<tr>
<td><code>isRevoked</code></td>
<td><code>is_revoked</code></td>
<td><em>bool</em></td>
<td>Flag indicating if the API key is revoked</td>
</tr>
</tbody></table>
<h2 id='vault-api-keys-search'>Vault API keys search</h2><h3 id='request-5'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/vaults/{vaultId}/api-keys</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.vaults.Vaults/SearchApiKeys</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/vaults/</span><span class="mi">100010</span><span class="err">/api-keys?id=</span><span class="mi">100014</span><span class="err">&amp;name=API%</span><span class="mi">20</span><span class="err">key%</span><span class="mi">20</span><span class="err">for%</span><span class="mi">20</span><span class="err">my%</span><span class="mi">20</span><span class="err">vault&amp;isRevoked=</span><span class="kc">false</span><span class="err">&amp;order=asc&amp;cursor=</span><span class="mi">100013</span><span class="err">&amp;limit=</span><span class="mi">3</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">SearchApiKeys</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">VaultSearchApiKeyRequest</span> <span class="p">{</span>  
  <span class="n">google.protobuf.Int64Value</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                            <span class="c1">// 100014</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                         <span class="c1">// "API key for my vault"</span>
  <span class="kt">int64</span> <span class="na">vault_id</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                           <span class="c1">// 100010</span>
  <span class="n">google.protobuf.BoolValue</span> <span class="na">is_revoked</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                     <span class="c1">// false</span>
  <span class="n">swisschain.sirius.api.common.PaginationInt64</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>  <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">PaginationInt64</span> <span class="p">{</span>
  <span class="n">PaginationOrder</span> <span class="na">order</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                    <span class="c1">// PaginationOrder.ASC</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">cursor</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                        <span class="c1">// 100013</span>
  <span class="kt">int32</span> <span class="na">limit</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                              <span class="c1">// 3</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>vaultId</code></td>
<td><code>vault_id</code></td>
<td><em>number</em></td>
<td><em>path</em></td>
<td>Exact ID of the vault to search</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number, optional</em></td>
<td><em>query</em></td>
<td>Exact ID of the vault API key to search</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string, optional</em></td>
<td><em>query</em></td>
<td>Name of the vault API key to search</td>
</tr>
<tr>
<td><code>isRevoked</code></td>
<td><code>is_revoked</code></td>
<td><em>bool, optional</em></td>
<td><em>query</em></td>
<td>Flag indicating if only revoked or only not revoked vault API keys should be searched</td>
</tr>
<tr>
<td><code>order</code></td>
<td><code>pagination.order</code></td>
<td><em><a href="#order">Order</a>, optional</em></td>
<td><em>query</em></td>
<td>Results sorting order</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><code>pagination.cursor</code></td>
<td><em>number, optional</em></td>
<td><em>query</em></td>
<td>Cursor to continue search from</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><code>pagination.limit</code></td>
<td><em>number, optional</em></td>
<td><em>query</em></td>
<td>Max numbers of the items to return from the server</td>
</tr>
</tbody></table>
<h3 id='response-5'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/vaults/</span><span class="mi">100010</span><span class="err">/api-keys?name=API%</span><span class="mi">20</span><span class="err">key&amp;isRevoked=</span><span class="kc">false</span><span class="err">&amp;order=asc&amp;cursor=</span><span class="mi">100013</span><span class="err">&amp;limit=</span><span class="mi">3</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"cursor"</span><span class="p">:</span><span class="w"> </span><span class="mi">100009</span><span class="p">,</span><span class="w">
    </span><span class="nl">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order"</span><span class="p">:</span><span class="w"> </span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="w"> </span><span class="err">/api/vaults/</span><span class="mi">100010</span><span class="err">/api-keys?name=API%</span><span class="mi">20</span><span class="err">key&amp;isRevoked=</span><span class="kc">false</span><span class="err">&amp;order=asc&amp;cursor=</span><span class="mi">100016</span><span class="err">&amp;limit=</span><span class="mi">3</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100014</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vaultId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100010</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API key for my vault"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-10T20:26:22.845Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"issuedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-10T20:26:22.845Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isRevoked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100015</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vaultId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100010</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Another one API key for my vault"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-10T20:26:22.845Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"issuedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-10T20:26:22.845Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isRevoked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100016</span><span class="p">,</span><span class="w">
      </span><span class="nl">"vaultId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100010</span><span class="p">,</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"One more API key for my vault"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"expiresAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-09-10T20:26:22.845Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"issuedAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-09-10T20:26:22.845Z"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"isRevoked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.vaults.Vaults</span><span class="o">/</span><span class="n">SearchApiKeys</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">VaultSearchApiKeyResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">VaultSearchApiKeyResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                             <span class="c1">// Object</span>
    <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>           <span class="c1">// NULL</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultSearchApiKeyResponseBody</span> <span class="p">{</span>
  <span class="n">swisschain.sirius.api.common.PaginatedInt64Response</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>   <span class="c1">// Object</span>
  <span class="k">repeated</span> <span class="n">VaultApiKeyResponse</span> <span class="na">items</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                               <span class="c1">// Array&lt;Object&gt;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">VaultApiKeyResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                         <span class="c1">// 100016</span>
  <span class="kt">int64</span> <span class="na">vault_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                                   <span class="c1">// 100010</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                                      <span class="c1">// "One more API key for my vault"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">expires_at</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                             <span class="c1">// "2021-09-10T20:26:22.845Z"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">issued_at</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                              <span class="c1">// "2020-09-10T20:26:22.845Z"</span>
  <span class="kt">bool</span> <span class="na">is_revoked</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                                                  <span class="c1">// FALSE</span>
<span class="p">}</span>
</code></pre></div>
<p><a href="#Pagination">Paginated</a> list of</p>

<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the vault API key</td>
</tr>
<tr>
<td><code>vaultId</code></td>
<td><code>vault_id</code></td>
<td><em>number</em></td>
<td>ID of the vault</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td>Name of the vault API key</td>
</tr>
<tr>
<td><code>expiresAt</code></td>
<td><code>expires_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the API key expiration</td>
</tr>
<tr>
<td><code>issuedAt</code></td>
<td><code>issued_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the API key issuance</td>
</tr>
<tr>
<td><code>isRevoked</code></td>
<td><code>is_revoked</code></td>
<td><em>bool</em></td>
<td>Flag indicating if the vault API key is revoked</td>
</tr>
</tbody></table>
<h2 id='vault-api-key-token-obtaining'>Vault API key token obtaining</h2><h3 id='request-6'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/vaults/{vaultId}/api-keys/{apiKeyId}/token</code></p>
<h4 id='parameters'>Parameters</h4><h4 id='query-parameters'>Query Parameters</h4><h3 id='response-6'>Response</h3>
<blockquote>
<p>GET /api/vaults/{vaultId}/api-keys/{apiKeyId}/token 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='vault-api-key-token-revocation'>Vault API key token revocation</h2><h3 id='request-7'>Request</h3>
<p><strong>Rest API:</strong> <code>POST /api/vaults/{vaultId}/api-keys/{apiKeyId}/revoke</code></p>
<h4 id='parameters-2'>Parameters</h4><h4 id='query-parameters-2'>Query Parameters</h4><h3 id='response-7'>Response</h3>
<blockquote>
<p>POST /api/vaults/{vaultId}/api-keys/{apiKeyId}/revoke 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='broker-accounts'>Broker accounts</h1>
<p>Broker account is the multi-currency (multi-blockchain) account which can contain unlimited number of personalized accounts within it. Broker account aggregates funds deposited to the personalized accounts and it provides funds for the withdrawals. The private keys of the broker accounts are stored in the vault associated with the broker account. The vault can&#39;t be changed once broker account is created.</p>

<p>You can choose which particular blockchain should be enabled for the given broker account. You can give a name to the broker account which make sense for you. It&#39;s convenient to have separate broker account for each business case. It&#39;s also reasonable to keep funds on the different brokerage accounts because of security reasons. For instance you can have a &quot;Hot&quot; broker account for operational work, &quot;Cold&quot; broker account to keep reserve funds which can be used by the limited employees group of your company, and &quot;Frozen&quot; broker account which can be used only by the owners of the business. Then you can setup a process to settle funds between these broker accounts on a periodical basis or on a demand.</p>

<p>Under the hood a broker account manages set of blockchain addresses. It has at least one address for each blockchain enabled for it. Depending on a particularities of each blockchain separate address or unique destination tag is created for each account within the broker account. Deposits received on an address of an account automatically moved to the address of the broker account. For some assets it&#39;s needed to pay fees in a different asset to move funds from an account to the broker account. For this Sirius provides &quot;fees assets&quot; on the account address by moving them from the broker account address.</p>

<p>Broker account structure:</p>

<p><img src="https://github.com/swisschain/Sirius.Api.Docs/raw/master/source/images/broker-account-structure.png" alt="Broker account structure lifecycle"/></p>
<h2 id='create-a-broker-account'>Create a broker account</h2><h3 id='request'>Request</h3>
<p><strong>Rest API:</strong> <code>POST /api/broker-accounts</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.brokerAccounts/Create</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/broker-accounts</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json)</span><span class="w">

</span><span class="err">x-request-id:</span><span class="w"> </span><span class="mi">1</span><span class="err">a</span><span class="mi">5</span><span class="err">c</span><span class="mi">0</span><span class="err">b</span><span class="mi">3</span><span class="err">d</span><span class="mi">15494</span><span class="err">ec</span><span class="mi">8</span><span class="err">a</span><span class="mi">390</span><span class="err">fd</span><span class="mi">3</span><span class="err">b</span><span class="mi">22</span><span class="err">d</span><span class="mi">757</span><span class="err">d</span><span class="mi">6</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"amlConnectionIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="mi">600000012</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nl">"blockchainIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"bitcoin-test"</span><span class="p">,</span><span class="w"> </span><span class="s2">"ethereum-ropsten"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"custodyId"</span><span class="p">:</span><span class="w"> </span><span class="mi">404000009</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Broker Account Name"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">Create</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">BrokerAccountCreateRequest</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">request_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                    <span class="c1">// 1a5c0b3d15494ec8a390fd3b22d757d6</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                          <span class="c1">// "Broker Account Name"</span>
  <span class="kt">int64</span> <span class="na">custody_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                     <span class="c1">// 404000009</span>
  <span class="k">repeated</span> <span class="kt">string</span> <span class="na">blockchain_ids</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>       <span class="c1">// [ "bitcoin-test", "ethereum-ropsten"] Array of blockchain ids</span>
  <span class="k">repeated</span> <span class="kt">int64</span> <span class="na">aml_connection_ids</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>    <span class="c1">// [ 600000012 ] Array of aml connections ids</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Request-ID</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td>-</td>
<td><code>request_id</code></td>
<td><em>string</em></td>
<td>-</td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
<td>Name of the created Broker Account</td>
</tr>
<tr>
<td><code>custodyId</code></td>
<td><code>custody_id</code></td>
<td><em>number</em></td>
<td><em>body</em></td>
<td>ID of the custody for broker account</td>
</tr>
<tr>
<td><code>blockchainIds</code></td>
<td><code>blockchain_ids</code></td>
<td><em>Array of strings</em></td>
<td><em>body</em></td>
<td>Ids of the blockchains with which broker Account should work</td>
</tr>
<tr>
<td><code>amlConnectionIds</code></td>
<td><code>aml_connection_ids</code></td>
<td><em>Array of strings</em></td>
<td><em>body</em></td>
<td>Ids of the AML connections to enable for deposit/withdrawal checks</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/broker-accounts</span><span class="w"> 

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Broker Account Name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">100000115</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"creating"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockchainsCount"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="s2">"
    createdAt"</span><span class="err">:</span><span class="s2">"2021-03-30T09:02:44.7726151+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="s2">"2021-03-30T09:02:44.7726151+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custodyId"</span><span class="p">:</span><span class="mi">404000009</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custodyName"</span><span class="p">:</span><span class="s2">"NewSharedHSM"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockchainIds"</span><span class="p">:[</span><span class="s2">"bitcoin-test"</span><span class="p">,</span><span class="s2">"ethereum-ropsten"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"amlConnectionIds"</span><span class="p">:[</span><span class="mi">600000012</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">Create</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">BrokerAccountCreateResponse</span> <span class="p">{</span>
    <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
      <span class="n">BrokerAccountCreateResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                 <span class="c1">// Object</span>
      <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="c1">// Object</span>
    <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountCreateResponseBody</span> <span class="p">{</span>
  <span class="n">BrokerAccountResponse</span> <span class="na">broker_account</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                     <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountResponse</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                              <span class="c1">// "Broker Account Name"</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                                 <span class="c1">// 100000115</span>
  <span class="n">BrokerAccountState</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                 <span class="c1">// BrokerAccountState.Creating</span>
  <span class="kt">int64</span> <span class="na">accounts_count</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                     <span class="c1">// 0</span>
  <span class="kt">int64</span> <span class="na">blockchains_count</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                                  <span class="c1">// 2</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">created_at</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                     <span class="c1">// "2021-03-30T09:02:44.7726151+00:00"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updated_at</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>                     <span class="c1">// "2021-03-30T09:02:44.7726151+00:00"</span>
  <span class="kt">int64</span> <span class="na">custody_id</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>                                         <span class="c1">// 404000009</span>
  <span class="kt">string</span> <span class="na">custody_name</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>                                      <span class="c1">// "NewSharedHSM"</span>
  <span class="k">repeated</span> <span class="kt">string</span> <span class="na">blockchain_ids</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>                          <span class="c1">// ["bitcoin-test","ethereum-ropsten"]</span>
  <span class="k">repeated</span> <span class="kt">int64</span> <span class="na">aml_connection_ids</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>                       <span class="c1">// [600000012]</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the broker account</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>accountsCount</code></td>
<td><code>accounts_count</code></td>
<td><em>number</em></td>
<td>Number of accounts that are attached to the broker account</td>
</tr>
<tr>
<td><code>blockchainsCount</code></td>
<td><code>blockchains_count</code></td>
<td><em>number</em></td>
<td>Number of already created broker account details</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>state</code></td>
<td><em><a href="#broker-account-state">BrokerAccountState</a></em></td>
<td>Status of the broker account</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the broker account creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the latest broker account update</td>
</tr>
<tr>
<td><code>custodyId</code></td>
<td><code>custody_id</code></td>
<td><em>number</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>custodyName</code></td>
<td><code>custody_name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>blockchain_ids</code></td>
<td><code>blockchain_ids</code></td>
<td><em>Array of string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>amlConnectionIds</code></td>
<td><code>aml_connection_ids</code></td>
<td><em>Array of numbers</em></td>
<td><em>body</em></td>
</tr>
</tbody></table>
<h2 id='update-the-broker-account'>Update the broker account</h2><h3 id='request-2'>Request</h3>
<p><strong>Rest API:</strong> <code>PUT /api/broker-accounts</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.brokerAccounts/Update</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">PUT</span><span class="w"> </span><span class="err">/api/broker-accounts</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json)</span><span class="w">

</span><span class="err">x-request-id:</span><span class="w"> </span><span class="mi">1</span><span class="err">a</span><span class="mi">5</span><span class="err">c</span><span class="mi">0</span><span class="err">b</span><span class="mi">3</span><span class="err">d</span><span class="mi">15494</span><span class="err">ec</span><span class="mi">8</span><span class="err">a</span><span class="mi">390</span><span class="err">fd</span><span class="mi">3</span><span class="err">b</span><span class="mi">22</span><span class="err">d</span><span class="mi">757</span><span class="err">d</span><span class="mi">6</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"amlConnectionIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">600000007</span><span class="p">,</span><span class="w"> </span><span class="mi">600000012</span><span class="p">],</span><span class="w">
    </span><span class="nl">"blockchainIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"stellar-test"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"brokerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000116</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">Update</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">BrokerAccountUpdateRequest</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">request_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                    <span class="c1">// 1a5c0b3d15494ec8a390fd3b22d757d6</span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>              <span class="c1">// 100000116 </span>
  <span class="k">repeated</span> <span class="kt">string</span> <span class="na">blockchain_ids</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>       <span class="c1">// ["stellar-test"] only new ids could be added</span>
  <span class="k">repeated</span> <span class="kt">int64</span> <span class="na">aml_connections_ids</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>   <span class="c1">// [600000007, 600000012] already existing ids could be removed</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Request-ID</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td>-</td>
<td><code>request_id</code></td>
<td><em>string</em></td>
<td>-</td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td><em>body</em></td>
<td>ID of the broker account</td>
</tr>
<tr>
<td><code>blockchainIds</code></td>
<td><code>blockchain_ids</code></td>
<td><em>Array of strings</em></td>
<td><em>body</em></td>
<td>Ids of the blockchains to add to the broker account</td>
</tr>
<tr>
<td><code>amlConnectionIds</code></td>
<td><code>aml_connection_ids</code></td>
<td><em>Array of strings</em></td>
<td><em>body</em></td>
<td>Ids of the AML connections to enable for deposit/withdrawal checks</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">PUT</span><span class="w"> </span><span class="err">/api/broker-accounts</span><span class="w"> 

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Broker Account Docs"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">100000116</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"updating"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountCount"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockchainsCount"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2021-03-30T09:49:47.298466+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="s2">"2021-03-30T09:51:54.3471023+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custodyId"</span><span class="p">:</span><span class="mi">404000008</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custodyName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SharedHSM_MAIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockchainIds"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bitcoin-test"</span><span class="p">,</span><span class="s2">"ethereum-ropsten"</span><span class="p">,</span><span class="s2">"stellar-test"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"amlConnectionIds"</span><span class="p">:[</span><span class="mi">600000007</span><span class="p">,</span><span class="mi">600000012</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">Update</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">BrokerAccountUpdateResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">BrokerAccountUpdateActionResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>             <span class="c1">// Object</span>
    <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// Object</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountUpdateActionResponseBody</span> <span class="p">{</span>
  <span class="n">BrokerAccountResponse</span> <span class="na">broker_account</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                     <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountResponse</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                              <span class="c1">// "Broker Account Name"</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                                 <span class="c1">// 100000115</span>
  <span class="n">BrokerAccountState</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                 <span class="c1">// BrokerAccountState.Creating</span>
  <span class="kt">int64</span> <span class="na">accounts_count</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                     <span class="c1">// 0</span>
  <span class="kt">int64</span> <span class="na">blockchains_count</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                                  <span class="c1">// 2</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">created_at</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                     <span class="c1">// "2021-03-30T09:02:44.7726151+00:00"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updated_at</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>                     <span class="c1">// "2021-03-30T09:02:44.7726151+00:00"</span>
  <span class="kt">int64</span> <span class="na">custody_id</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>                                         <span class="c1">// 404000009</span>
  <span class="kt">string</span> <span class="na">custody_name</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>                                      <span class="c1">// "NewSharedHSM"</span>
  <span class="k">repeated</span> <span class="kt">string</span> <span class="na">blockchain_ids</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>                          <span class="c1">// ["bitcoin-test","ethereum-ropsten"]</span>
  <span class="k">repeated</span> <span class="kt">int64</span> <span class="na">aml_connection_ids</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>                       <span class="c1">// [600000012]</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the broker account</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>accountsCount</code></td>
<td><code>accounts_count</code></td>
<td><em>number</em></td>
<td>Number of accounts that are attached to the broker account</td>
</tr>
<tr>
<td><code>blockchainsCount</code></td>
<td><code>blockchains_count</code></td>
<td><em>number</em></td>
<td>Number of already created broker account details</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>state</code></td>
<td><em><a href="#broker-account-state">BrokerAccountState</a></em></td>
<td>Status of the broker account</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the broker account creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the latest broker account update</td>
</tr>
<tr>
<td><code>custodyId</code></td>
<td><code>custody_id</code></td>
<td><em>number</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>custodyName</code></td>
<td><code>custody_name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>blockchain_ids</code></td>
<td><code>blockchain_ids</code></td>
<td><em>Array of string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>amlConnectionIds</code></td>
<td><code>aml_connection_ids</code></td>
<td><em>Array of numbers</em></td>
<td><em>body</em></td>
</tr>
</tbody></table>
<h2 id='searches-broker-accounts'>Searches broker accounts</h2><h3 id='request-3'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/broker-accounts</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.brokerAccounts/Search</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Exact broker account ID to search</td>
<td>100000113</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Name of the broker account</td>
<td>Broker account name</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>state</code></td>
<td><em>optional</em>, <em>Array of <a href="#broker-account-state">BrokerAccountState</a></em></td>
<td>State of the broker account</td>
<td>creating</td>
</tr>
<tr>
<td>-</td>
<td><code>custody_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Find broker accounts with specified Custody ID</td>
<td>200000000</td>
</tr>
<tr>
<td><code>order</code></td>
<td><code>pagination.order</code></td>
<td><em>optional</em>, <em><a href="#order">Order</a></em></td>
<td>Result items sorting order</td>
<td>asc</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><code>pagination.cursor</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Cursor to continue the search</td>
<td>11111110</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><code>pagination.limit</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Maximum number of items to return in the search results</td>
<td>10</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">BrokerAccountSearchRequest</span> <span class="p">{</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">custody_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
  <span class="k">repeated</span> <span class="n">BrokerAccountState</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="n">swisschain.sirius.api.common.PaginationInt64</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><h3 id='response-3'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/broker-accounts</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"cursor"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="s2">"/api/broker-accounts?Order=Asc&amp;Cursor=100000012&amp;Limit=10"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"first"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">100000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"creating"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountCount"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockchainsCount"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2020-09-08T13:10:24.949289+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="s2">"2020-09-08T13:10:24.949289+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"custodyId"</span><span class="p">:</span><span class="mi">100000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"custodyName"</span><span class="p">:</span><span class="s2">"Shared1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockchainIds"</span><span class="p">:[</span><span class="s2">"ethereum-ropsten"</span><span class="p">,</span><span class="s2">"bitcoin-test"</span><span class="p">,</span><span class="s2">"stellar-test"</span><span class="p">,</span><span class="s2">"bitcoin-private"</span><span class="p">,</span><span class="s2">"litecoin-private"</span><span class="p">],</span><span class="w">
            </span><span class="nl">"amlConnectionIds"</span><span class="p">:[]</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">BrokerAccountSearchResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">BrokerAccountSearchResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                   <span class="c1">// Object</span>
    <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// Object</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountSearchResponseBody</span> <span class="p">{</span>
  <span class="n">swisschain.sirius.api.common.PaginatedInt64Response</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>   <span class="c1">// Object</span>
  <span class="k">repeated</span> <span class="n">BrokerAccountResponse</span> <span class="na">items</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                             <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountResponse</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">name</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                              <span class="c1">// "Broker Account Name"</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                                 <span class="c1">// 100000115</span>
  <span class="n">BrokerAccountState</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                 <span class="c1">// BrokerAccountState.Creating</span>
  <span class="kt">int64</span> <span class="na">accounts_count</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                     <span class="c1">// 0</span>
  <span class="kt">int64</span> <span class="na">blockchains_count</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                                  <span class="c1">// 2</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">created_at</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                     <span class="c1">// "2021-03-30T09:02:44.7726151+00:00"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updated_at</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>                     <span class="c1">// "2021-03-30T09:02:44.7726151+00:00"</span>
  <span class="kt">int64</span> <span class="na">custody_id</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>                                         <span class="c1">// 404000009</span>
  <span class="kt">string</span> <span class="na">custody_name</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>                                      <span class="c1">// "NewSharedHSM"</span>
  <span class="k">repeated</span> <span class="kt">string</span> <span class="na">blockchain_ids</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>                          <span class="c1">// ["bitcoin-test","ethereum-ropsten"]</span>
  <span class="k">repeated</span> <span class="kt">int64</span> <span class="na">aml_connection_ids</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>                       <span class="c1">// [600000012]</span>
<span class="p">}</span>
</code></pre></div>
<p>Paginated response of the broker accounts:</p>

<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the broker account</td>
</tr>
<tr>
<td><code>name</code></td>
<td><code>name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>accountsCount</code></td>
<td><code>accounts_count</code></td>
<td><em>number</em></td>
<td>Number of accounts that are attached to the broker account</td>
</tr>
<tr>
<td><code>blockchainsCount</code></td>
<td><code>blockchains_count</code></td>
<td><em>number</em></td>
<td>Number of already created broker account details</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>state</code></td>
<td><em><a href="#broker-account-state">BrokerAccountState</a></em></td>
<td>Status of the broker account</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the broker account creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the latest broker account update</td>
</tr>
<tr>
<td><code>custodyId</code></td>
<td><code>custody_id</code></td>
<td><em>number</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>custodyName</code></td>
<td><code>custody_name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>blockchain_ids</code></td>
<td><code>blockchain_ids</code></td>
<td><em>Array of string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>amlConnectionIds</code></td>
<td><code>aml_connection_ids</code></td>
<td><em>Array of numbers</em></td>
<td><em>body</em></td>
</tr>
</tbody></table>
<h2 id='searches-the-broker-account-balances'>Searches the broker account balances</h2><h3 id='request-4'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/broker-accounts/{brokerAccountId}/balances</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.brokerAccounts/GetBalances</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td>Find balances for specified broker account ID</td>
<td>200000000</td>
</tr>
<tr>
<td><code>assetId</code></td>
<td><code>asset_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Show balance for specified asset ID</td>
<td>100000113</td>
</tr>
<tr>
<td><code>order</code></td>
<td><code>pagination.order</code></td>
<td><em>optional</em>, <em><a href="#order">Order</a></em></td>
<td>Result items sorting order</td>
<td>asc</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><code>pagination.cursor</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Cursor to continue the search</td>
<td>11111110</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><code>pagination.limit</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Maximum number of items to return in the search results</td>
<td>10</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">GetBalances</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">BrokerAccountGetBalancesRequest</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                  <span class="c1">// 200000000</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">assetId</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                       <span class="c1">// 100000113</span>
  <span class="n">swisschain.sirius.api.common.PaginationInt64</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>  <span class="c1">// Object</span>
<span class="p">}</span>
</code></pre></div><h3 id='response-4'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/broker-accounts/</span><span class="p">{</span><span class="err">brokerAccountId</span><span class="p">}</span><span class="err">/balances</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"cursor"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">102000850</span><span class="p">,</span><span class="w">
            </span><span class="nl">"brokerAccountId"</span><span class="p">:</span><span class="mi">100000113</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assetId"</span><span class="p">:</span><span class="mi">100000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"ownedBalance"</span><span class="p">:</span><span class="mf">0.17770416</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="mf">0.17770416</span><span class="p">,</span><span class="w">
            </span><span class="nl">"pendingBalance"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"reservedBalance"</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2021-03-11T13:46:09.615581+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="s2">"2021-03-19T08:53:50.020425+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assetSymbol"</span><span class="p">:</span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"assetAddress"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockchainName"</span><span class="p">:</span><span class="s2">"Bitcoin private network"</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="p">,</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">BrokerAccountGetBalancesResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">BrokerAccountGetBalancesResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                      <span class="c1">// Object</span>
    <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>           <span class="c1">// Object</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountGetBalancesResponseBody</span> <span class="p">{</span>
  <span class="n">swisschain.sirius.api.common.PaginatedInt64Response</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>   <span class="c1">// Object</span>
  <span class="k">repeated</span> <span class="n">BrokerAccountBalancesResponse</span> <span class="na">items</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                     <span class="c1">// Paginated balances</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountBalancesResponse</span>
<span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                         <span class="c1">// 102000850</span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                          <span class="c1">// 100000113</span>
  <span class="kt">int64</span> <span class="na">asset_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                                   <span class="c1">// 100000</span>
  <span class="n">swisschain.sirius.api.common.BigDecimal</span> <span class="na">owned_balance</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>            <span class="c1">// 0.17770416</span>
  <span class="n">swisschain.sirius.api.common.BigDecimal</span> <span class="na">available_balance</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>        <span class="c1">// 0.17770416</span>
  <span class="n">swisschain.sirius.api.common.BigDecimal</span> <span class="na">pending_balance</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>          <span class="c1">// 0</span>
  <span class="n">swisschain.sirius.api.common.BigDecimal</span> <span class="na">reserved_balance</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>         <span class="c1">// 0</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">created_at</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>                             <span class="c1">// "2021-03-11T13:46:09.615581+00:00"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updated_at</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>                             <span class="c1">// "2021-03-19T08:53:50.020425+00:00"</span>
  <span class="kt">string</span> <span class="na">asset_symbol</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>                                             <span class="c1">// "BTC"</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">asset_address</span> <span class="o">=</span> <span class="mi">11</span><span class="p">;</span>                       <span class="c1">// null</span>
  <span class="kt">string</span> <span class="na">blockchain_name</span> <span class="o">=</span> <span class="mi">12</span><span class="p">;</span>                                          <span class="c1">// "Bitcoin private network"</span>
<span class="p">}</span>
</code></pre></div>
<p>Paginated response of the broker account balances:</p>

<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the broker account balance</td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td>ID of the broker account</td>
</tr>
<tr>
<td><code>assetId</code></td>
<td><code>asset_id</code></td>
<td><em>number</em></td>
<td>ID of the asset</td>
</tr>
<tr>
<td><code>ownedBalance</code></td>
<td><code>owned_balance</code></td>
<td><em>decimal</em></td>
<td>Owned balance. (see balance diagram)</td>
</tr>
<tr>
<td><code>availableBalance</code></td>
<td><code>available_balance</code></td>
<td><em>decimal</em></td>
<td>Available balance. (see balance diagram)</td>
</tr>
<tr>
<td><code>pendingBalance</code></td>
<td><code>pending_balance</code></td>
<td><em>decimal</em></td>
<td>Pending balance. (see balance diagram)</td>
</tr>
<tr>
<td><code>reservedBalance</code></td>
<td><code>reserved_balance</code></td>
<td><em>decimal</em></td>
<td>Reserved balance. (see balance diagram)</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the broker account balance creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the latest broker account balance update</td>
</tr>
<tr>
<td><code>assetSymbol</code></td>
<td><code>asset_symbol</code></td>
<td><em>string</em></td>
<td>Symbol of the asset</td>
</tr>
<tr>
<td><code>assetAddress</code></td>
<td><code>asset_address</code></td>
<td><em>string</em></td>
<td>Asset&#39;s address on the blockchain(e.x:for tokens)</td>
</tr>
<tr>
<td><code>custodyName</code></td>
<td><code>custody_name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>blockchain_name</code></td>
<td><code>blockchain_name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
</tbody></table>
<h2 id='searches-the-broker-account-details'>Searches the broker account details</h2><h3 id='request-5'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/broker-accounts/{brokerAccountId}/details</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.brokerAccounts/SearchDetails</code></p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td>Find details for specified broker account ID</td>
<td>200000000</td>
</tr>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Find details for specified broker account ID</td>
<td>200000001</td>
</tr>
<tr>
<td><code>assetId</code></td>
<td><code>asset_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Show details for specified asset ID</td>
<td>100000</td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td><code>blockchain_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Show details for specified blockchain ID</td>
<td>ethereum-ropsten</td>
</tr>
<tr>
<td><code>address</code></td>
<td><code>address</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Show details for specified address</td>
<td>0x678401cf8200967a3998d1480512b3f9e79f9447</td>
</tr>
<tr>
<td><code>order</code></td>
<td><code>pagination.order</code></td>
<td><em>optional</em>, <em><a href="#order">Order</a></em></td>
<td>Result items sorting order</td>
<td>asc</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><code>pagination.cursor</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Cursor to continue the search</td>
<td>11111110</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><code>pagination.limit</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Maximum number of items to return in the search results</td>
<td>10</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">GetBalances</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">BrokerAccountDetailsSearchRequest</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                  <span class="c1">// 200000000</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                            <span class="c1">// 200000001</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">assetId</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                       <span class="c1">// 100000</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">blockchainId</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                 <span class="c1">// "ethereum-ropsten"</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">address</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                      <span class="c1">// "0x678401cf8200967a3998d1480512b3f9e79f9447"</span>
  <span class="n">swisschain.sirius.api.common.PaginationInt64</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>  <span class="c1">// Pagination object</span>
<span class="p">}</span>
</code></pre></div><h3 id='response-5'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/broker-accounts/</span><span class="p">{</span><span class="err">brokerAccountId</span><span class="p">}</span><span class="err">/details</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"cursor"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">101000254</span><span class="p">,</span><span class="w">
                </span><span class="nl">"brokerAccountId"</span><span class="p">:</span><span class="mi">100000113</span><span class="p">,</span><span class="w">
                </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2021-03-10T12:27:44.666695+00:00"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"address"</span><span class="p">:</span><span class="s2">"0x02d45A855dB2dD98899cdA9a58c16E8f4A1faA96"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"blockchainId"</span><span class="p">:</span><span class="s2">"ethereum-ropsten"</span><span class="w">
            </span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.brokerAccounts</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">BrokerAccountDetailsSearchResponse</span> <span class="p">{</span>
  <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
    <span class="n">BrokerAccountDetailsSearchResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                    <span class="c1">// Object</span>
    <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>           <span class="c1">// Object</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountDetailsSearchResponseBody</span> <span class="p">{</span>
  <span class="n">swisschain.sirius.api.common.PaginatedInt64Response</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>   <span class="c1">// Object</span>
  <span class="k">repeated</span> <span class="n">BrokerAccountDetailsResponse</span> <span class="na">items</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                      <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">BrokerAccountDetailsResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                         <span class="c1">// 101000254</span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                          <span class="c1">// 100000113</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">created_at</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                             <span class="c1">// "2021-03-10T12:27:44.666695+00:00"</span>
  <span class="kt">string</span> <span class="na">address</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                                   <span class="c1">// "0x02d45A855dB2dD98899cdA9a58c16E8f4A1faA96"</span>
  <span class="kt">string</span> <span class="na">blockchain_id</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                                             <span class="c1">// "ethereum-ropsten"</span>
<span class="p">}</span>
</code></pre></div>
<p>Paginated response of the broker account details:</p>

<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the broker account balance</td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td>ID of the broker account</td>
</tr>
<tr>
<td><code>assetId</code></td>
<td><code>asset_id</code></td>
<td><em>number</em></td>
<td>ID of the asset</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the broker account balance creation</td>
</tr>
<tr>
<td><code>address</code></td>
<td><code>address</code></td>
<td><em>string</em></td>
<td>Asset&#39;s address on the blockchain(e.x:for tokens)</td>
</tr>
<tr>
<td><code>custodyName</code></td>
<td><code>custody_name</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td><code>blockchain_id</code></td>
<td><em>string</em></td>
<td><em>body</em></td>
</tr>
</tbody></table>
<h2 id='gets-the-broker-account-details-by-the-asset-id'>Gets the broker account details by the asset id</h2><h3 id='request-6'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/broker-accounts/{brokerAccountId}/details/by-asset-id/{assetId}</code></p>
<h3 id='parameters'>Parameters</h3><h3 id='query-parameters-4'>Query Parameters</h3><h3 id='response-6'>Response</h3>
<blockquote>
<p>GET /api/broker-accounts/{brokerAccountId}/details/by-asset-id/{assetId} 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='accounts'>Accounts</h1>
<p>Account is the multi-currency (multi-blockchain) account which is associated with a particular broker account. Account has the same blockchains enabled as the parent broker account has. Account can be associated with a thing in your system by using the &quot;reference ID&quot;. You can pass ID of your end-user, invoice, contract or any other things with which you want to associate deposits received on the account. Reference ID is optional, so you can avoid passing your internal IDs to Sirius and keep mapping between your objects and Sirius accounts on your side.</p>
<h2 id='create-an-account'>Create an account</h2><h3 id='request'>Request</h3>
<p><strong>Rest API:</strong> <code>POST /api/accounts</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.accounts/Create</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/accounts</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json)</span><span class="w">

</span><span class="err">x-request-id:</span><span class="w"> </span><span class="mi">1</span><span class="err">a</span><span class="mi">5</span><span class="err">c</span><span class="mi">0</span><span class="err">b</span><span class="mi">3</span><span class="err">d</span><span class="mi">15494</span><span class="err">ec</span><span class="mi">8</span><span class="err">a</span><span class="mi">390</span><span class="err">fd</span><span class="mi">3</span><span class="err">b</span><span class="mi">22</span><span class="err">d</span><span class="mi">757</span><span class="err">d</span><span class="mi">6</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"brokerAccountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000113</span><span class="w">
    </span><span class="nl">"referenceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user reference"</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">108000004</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">Create</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">AccountCreateRequest</span> <span class="p">{</span>
  <span class="kt">string</span> <span class="na">request_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                        <span class="c1">//1a5c0b3d15494ec8a390fd3b22d757d6</span>

  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                  <span class="c1">//100000113</span>

  <span class="n">google.protobuf.StringValue</span> <span class="na">reference_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span> <span class="c1">//user reference (could be empty)</span>

  <span class="n">google.protobuf.Int64Value</span> <span class="na">user_id</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>       <span class="c1">//108000004 (could be empty)</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Request-ID</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td>-</td>
<td><code>request_id</code></td>
<td><em>string</em></td>
<td>-</td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td><em>body</em></td>
<td>Id of the related Broker Account</td>
</tr>
<tr>
<td><code>referenceId</code></td>
<td><code>reference_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td><em>body</em></td>
<td>Account reference id</td>
</tr>
<tr>
<td><code>userId</code></td>
<td><code>user_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td><em>body</em></td>
<td>Id of the related user in the system (Needed for enabling AML on broker Account)</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/accounts</span><span class="w"> 

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">103000158</span><span class="p">,</span><span class="w">
    </span><span class="nl">"referenceId"</span><span class="p">:</span><span class="s2">"user reference"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"brokerAccountId"</span><span class="p">:</span><span class="mi">100000113</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"creating"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2021-03-26T14:14:46.089822+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="s2">"2021-03-26T14:14:46.089822+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">108000004</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userNativeId"</span><span class="p">:</span><span class="s2">"chainalysis-user-1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">Create</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">AccountCreateResponse</span> <span class="p">{</span>
    <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
      <span class="n">AccountCreateResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                         <span class="c1">// Object</span>
      <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// NULL</span>
    <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountCreateResponseBody</span> <span class="p">{</span>
  <span class="n">AccountResponse</span> <span class="na">account</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                      <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                     <span class="c1">// 103000158</span>
  <span class="kt">string</span> <span class="na">reference_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                          <span class="c1">// "user reference" </span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                      <span class="c1">// 100000113</span>
  <span class="n">AccountStateModel</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                      <span class="c1">// AccountStateModel.Creating</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">createdAt</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                          <span class="c1">// "2021-03-26T14:14:46.089822+00:00"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updatedAt</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                          <span class="c1">// "2021-03-26T14:14:46.089822+00:00"</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">user_id</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>                           <span class="c1">// 108000004</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">user_native_id</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>                   <span class="c1">// "chainalysis-user-1"</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the account</td>
</tr>
<tr>
<td><code>referenceId</code></td>
<td><code>reference_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>status</code></td>
<td><em><a href="#account-state">AccountState</a></em></td>
<td>Status of the account</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the account creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the latest account update</td>
</tr>
<tr>
<td><code>userId</code></td>
<td><code>user_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>userNativeId</code></td>
<td><code>user_native_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td><em>body</em></td>
</tr>
</tbody></table>
<h2 id='update-an-account'>Update an account</h2><h3 id='request-2'>Request</h3>
<p><strong>Rest API:</strong> <code>PUT /api/accounts</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.accounts/Update</code></p>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/accounts</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Request:</span><span class="w"> </span><span class="err">(application/json)</span><span class="w">

</span><span class="err">x-request-id:</span><span class="w"> </span><span class="mi">1</span><span class="err">a</span><span class="mi">5</span><span class="err">c</span><span class="mi">0</span><span class="err">b</span><span class="mi">3</span><span class="err">d</span><span class="mi">15494</span><span class="err">ec</span><span class="mi">8</span><span class="err">a</span><span class="mi">390</span><span class="err">fd</span><span class="mi">3</span><span class="err">b</span><span class="mi">22</span><span class="err">d</span><span class="mi">757</span><span class="err">d</span><span class="mi">6</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="mi">100000113</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="w"> </span><span class="mi">108000004</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>REST placement</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>X-Request-ID</code></td>
<td>-</td>
<td><em>string</em></td>
<td><em>header</em></td>
<td>Unique ID of the request</td>
</tr>
<tr>
<td><code>accountId</code></td>
<td>-</td>
<td><em>optional</em>, <em>number</em></td>
<td><em>body</em></td>
<td>Id of the related Account</td>
</tr>
<tr>
<td><code>userId</code></td>
<td>-</td>
<td><em>optional</em>, <em>number</em></td>
<td><em>body</em></td>
<td>Id of the related user in the system (Needed for enabling AML on broker Account)</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/accounts</span><span class="w"> 

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">103000158</span><span class="p">,</span><span class="w">
    </span><span class="nl">"referenceId"</span><span class="p">:</span><span class="s2">"user reference"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"brokerAccountId"</span><span class="p">:</span><span class="mi">100000113</span><span class="p">,</span><span class="w">
    </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"creating"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2021-03-26T14:14:46.089822+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="s2">"2021-03-26T14:14:46.089822+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userId"</span><span class="p">:</span><span class="mi">108000004</span><span class="p">,</span><span class="w">
    </span><span class="nl">"userNativeId"</span><span class="p">:</span><span class="s2">"chainalysis-user-1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the account</td>
</tr>
<tr>
<td><code>referenceId</code></td>
<td><code>reference_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>status</code></td>
<td><em><a href="#account-state">AccountState</a></em></td>
<td>Status of the account</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the account creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the latest account update</td>
</tr>
<tr>
<td><code>userId</code></td>
<td><code>user_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td><em>body</em></td>
</tr>
<tr>
<td><code>userNativeId</code></td>
<td><code>user_native_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td><em>body</em></td>
</tr>
</tbody></table>
<h2 id='search-for-accounts'>Search for accounts</h2><h3 id='request-3'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/accounts</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.accounts/Search</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>ID of the account to search</td>
<td>11111111</td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Exact broker account id to search</td>
<td>100000113</td>
</tr>
<tr>
<td><code>userId</code></td>
<td><code>user_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>ID of users</td>
<td>108000004</td>
</tr>
<tr>
<td><code>referenceId</code></td>
<td><code>reference_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Account reference id</td>
<td>user reference</td>
</tr>
<tr>
<td><code>state</code></td>
<td><code>state</code></td>
<td><em>optional</em>, <em><a href="#account-state">AccountState</a></em></td>
<td>State of the account</td>
<td>creating</td>
</tr>
<tr>
<td><code>order</code></td>
<td><code>pagination.order</code></td>
<td><em>optional</em>, <em><a href="#order">Order</a></em></td>
<td>Result items sorting order</td>
<td>asc</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><code>pagination.cursor</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Cursor to continue the search</td>
<td>11111110</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><code>pagination.limit</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Maximum number of items to return in the search results</td>
<td>10</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">AccountSearchRequest</span> <span class="p">{</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                            <span class="c1">// 11111111</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>             <span class="c1">// 100000113</span>
  <span class="k">repeated</span> <span class="n">AccountStateModel</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                         <span class="c1">// [AccountStateModel.Creating, AccountStateModel.Active, AccountStateModel.Blocked]</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">reference_id</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                 <span class="c1">// user reference</span>
  <span class="n">swisschain.sirius.api.common.PaginationInt64</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>  <span class="c1">// Pagination object</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">user_id</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                       <span class="c1">//108000004 (could be empty)</span>
<span class="p">}</span>
</code></pre></div><h3 id='response-3'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/accounts?id=</span><span class="mi">103000022</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"cursor"</span><span class="p">:</span><span class="mi">103000021</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="s2">"/api/accounts/details?Order=Asc&amp;Cursor=103000031&amp;Limit=10"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">103000022</span><span class="p">,</span><span class="w">
            </span><span class="nl">"referenceId"</span><span class="p">:</span><span class="s2">"some ref7"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"brokerAccountId"</span><span class="p">:</span><span class="mi">100000019</span><span class="p">,</span><span class="w">
            </span><span class="nl">"state"</span><span class="p">:</span><span class="s2">"active"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2020-09-14T16:25:54.831938+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"updatedAt"</span><span class="p">:</span><span class="s2">"2020-09-14T16:28:14.536684+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userId"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"userNativeId"</span><span class="p">:</span><span class="kc">null</span><span class="p">},</span><span class="w"> </span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">AccountSearchResponse</span> <span class="p">{</span>
    <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
      <span class="n">AccountSearchResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                         <span class="c1">// Object</span>
      <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// NULL</span>
    <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountSearchResponseBody</span> <span class="p">{</span>
  <span class="n">swisschain.sirius.api.common.PaginatedInt64Response</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>   <span class="c1">// Pagination</span>

  <span class="k">repeated</span> <span class="n">AccountResponse</span> <span class="na">items</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                   <span class="c1">// Array of objects</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                     <span class="c1">// 103000158</span>
  <span class="kt">string</span> <span class="na">reference_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                          <span class="c1">// "user reference" </span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                                      <span class="c1">// 100000113</span>
  <span class="n">AccountStateModel</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                      <span class="c1">// AccountStateModel.Creating</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">createdAt</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                          <span class="c1">// "2021-03-26T14:14:46.089822+00:00"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updatedAt</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                          <span class="c1">// "2021-03-26T14:14:46.089822+00:00"</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">user_id</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>                           <span class="c1">// 108000004</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">user_native_id</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>                   <span class="c1">// "chainalysis-user-1"</span>
<span class="p">}</span>
</code></pre></div>
<p>Paginated response of the accounts:</p>

<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the account</td>
</tr>
<tr>
<td><code>referenceId</code></td>
<td><code>reference_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Account reference id</td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td>Id of the related Broker Account</td>
</tr>
<tr>
<td><code>status</code></td>
<td><code>status</code></td>
<td><em><a href="#account-state">AccountState</a></em></td>
<td>Status of the account</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the account creation</td>
</tr>
<tr>
<td><code>updatedAt</code></td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the latest account update</td>
</tr>
<tr>
<td><code>userId</code></td>
<td><code>user_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Id of the related user in the system (Needed for enabling AML on broker Account)</td>
</tr>
<tr>
<td><code>userNativeId</code></td>
<td><code>user_native_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Native Id of the user in customer&#39;s system</td>
</tr>
</tbody></table>
<h2 id='searches-the-account-details'>Searches the account details</h2><h3 id='request-4'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/accounts/{accountId}/details</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.accounts/SearchDetails</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>ID of the account details to search</td>
<td>11111111</td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>account_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Exact account id to search</td>
<td>103000000</td>
</tr>
<tr>
<td><code>referenceId</code></td>
<td><code>reference_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Account reference id</td>
<td>account reference</td>
</tr>
<tr>
<td><code>brokerAccountId</code></td>
<td><code>broker_account_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Exact broker account id to search</td>
<td>103000113</td>
</tr>
<tr>
<td><code>assetId</code></td>
<td><code>asset_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>ID of an asset</td>
<td>108000004</td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td><code>blockchain_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>ID of the blockchain</td>
<td>bitcoin-private</td>
</tr>
<tr>
<td><code>address</code></td>
<td><code>address</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Address of the account details</td>
<td>bcrt1qnqx8ltjez3jak8f859y20darrhawa8rq73pank</td>
</tr>
<tr>
<td><code>tag</code></td>
<td><code>tag</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>related tag</td>
<td>null</td>
</tr>
<tr>
<td><code>tag_type</code></td>
<td><code>tag_type</code></td>
<td><em>optional</em>, <em><a href="#tag-type">TagType</a></em></td>
<td>tag type</td>
<td>null</td>
</tr>
<tr>
<td><code>order</code></td>
<td><code>pagination.order</code></td>
<td><em>optional</em>, <em><a href="#order">Order</a></em></td>
<td>Result items sorting order</td>
<td>asc</td>
</tr>
<tr>
<td><code>cursor</code></td>
<td><code>pagination.cursor</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Cursor to continue the search</td>
<td>11111110</td>
</tr>
<tr>
<td><code>limit</code></td>
<td><code>pagination.limit</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Maximum number of items to return in the search results</td>
<td>10</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">SearchDetails</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">AccountDetailsSearchRequest</span> <span class="p">{</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                    <span class="c1">// 11111111</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                     <span class="c1">// 103000113</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">account_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                            <span class="c1">// 103000000</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">reference_id</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                         <span class="c1">// account reference</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">asset_id</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                              <span class="c1">// 108000004</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">blockchain_id</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                        <span class="c1">// bitcoin-private</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">address</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>                              <span class="c1">// bcrt1qnqx8ltjez3jak8f859y20darrhawa8rq73pank</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">tag</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>                                  <span class="c1">// null</span>
  <span class="k">repeated</span> <span class="o">.</span><span class="n">swisschain.sirius.api.common.NullableTagType</span> <span class="na">tag_type</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>  <span class="c1">// NullableTagType.Value.Text</span>
  <span class="n">swisschain.sirius.api.common.PaginationInt64</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>         <span class="c1">// Pagination object</span>
<span class="p">}</span>
</code></pre></div><h3 id='response-4'>Response</h3>
<blockquote>
<p>GET /api/accounts/{accountId}/details 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"pagination"</span><span class="p">:</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"cursor"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"count"</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nl">"order"</span><span class="p">:</span><span class="s2">"asc"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"nextUrl"</span><span class="p">:</span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"items"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">104000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="mi">103000000</span><span class="p">,</span><span class="w">
            </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2020-09-08T13:10:34.719982+00:00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"address"</span><span class="p">:</span><span class="s2">"bcrt1qnqx8ltjez3jak8f859y20darrhawa8rq73pank"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"blockchainId"</span><span class="p">:</span><span class="s2">"bitcoin-private"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tag"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tagType"</span><span class="p">:</span><span class="kc">null</span><span class="p">},]}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">SearchDetails</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">AccountDetailsSearchResponse</span> <span class="p">{</span>
    <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
      <span class="n">ccountDetailsSearchResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
      <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountDetailsSearchResponseBody</span> <span class="p">{</span>
   <span class="n">swisschain.sirius.api.common.PaginatedInt64Response</span> <span class="na">pagination</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>  <span class="c1">// Object</span>
   <span class="k">repeated</span> <span class="n">AccountDetailsResponse</span> <span class="na">items</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                            <span class="c1">// Paginated array of account details</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountDetailsResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                 <span class="c1">// 104000000</span>
  <span class="kt">int64</span> <span class="na">account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                         <span class="c1">// 103000000</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">createdAt</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                      <span class="c1">// "2020-09-08T13:10:34.719982+00:00"</span>
  <span class="kt">string</span> <span class="na">address</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                           <span class="c1">// "bcrt1qnqx8ltjez3jak8f859y20darrhawa8rq73pank"</span>
  <span class="kt">string</span> <span class="na">blockchain_id</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                                     <span class="c1">// "bitcoin-private"</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">tag</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                          <span class="c1">// null</span>
  <span class="n">swisschain.sirius.api.common.NullableTagType</span> <span class="na">tag_type</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>    <span class="c1">// null</span>
<span class="p">}</span>
</code></pre></div>
<p>Paginated array of the account details:</p>

<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the account details</td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td><code>blockchain_id</code></td>
<td><em>string</em></td>
<td>Blockchain ID</td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>account_id</code></td>
<td><em>number</em></td>
<td>Id of the related Account</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the account details creation</td>
</tr>
<tr>
<td><code>address</code></td>
<td><code>address</code></td>
<td><em>number</em></td>
<td>Details public address</td>
</tr>
<tr>
<td><code>tag</code></td>
<td><code>tag</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Tag which is related to address (applicable for Stellar)</td>
</tr>
<tr>
<td><code>tagType</code></td>
<td><code>tag_type</code></td>
<td><em>optional</em>, <em><a href="#tag-type">TagType</a></em></td>
<td>Tag type</td>
</tr>
</tbody></table>
<h2 id='gets-the-account-details-by-the-asset-id'>Gets the account details by the asset id</h2><h3 id='request-5'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/accounts/{accountId}/details/by-asset-id/{assetId}</code></p>

<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.accounts/GetDetails</code></p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td><code>accountId</code></td>
<td><code>account_id</code></td>
<td><em>number</em></td>
<td>ID of the account</td>
<td>103000000</td>
</tr>
<tr>
<td><code>assetId</code></td>
<td><code>asset_id</code></td>
<td><em>number</em></td>
<td>Id of the asset</td>
<td>100000113</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">GetDetails</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">AccountGetDetailsRequest</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">account_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                         <span class="c1">// 103000000</span>
  <span class="kt">int64</span> <span class="na">asset_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                           <span class="c1">// 100000113</span>
<span class="p">}</span>
</code></pre></div><h3 id='response-5'>Response</h3><div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/api/accounts/</span><span class="mi">103000000</span><span class="err">/details/by-asset-id/</span><span class="mi">100000113</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">OK</span><span class="w">

</span><span class="err">&gt;</span><span class="w"> </span><span class="err">Response:</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="err">(application/json)</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">success</span><span class="w"> </span><span class="err">response</span><span class="w">

</span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="mi">104000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="mi">103000000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"createdAt"</span><span class="p">:</span><span class="s2">"2020-09-08T13:10:34.719982+00:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="s2">"bcrt1qnqx8ltjez3jak8f859y20darrhawa8rq73pank"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"blockchainId"</span><span class="p">:</span><span class="s2">"bitcoin-private"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tag"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tagType"</span><span class="p">:</span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">Search</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">AccountGetDetailsResponse</span> <span class="p">{</span>
    <span class="k">oneof</span> <span class="n">result</span> <span class="p">{</span>
      <span class="n">AccountGetDetailsResponseBody</span> <span class="na">body</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                     <span class="c1">// Object</span>
      <span class="n">swisschain.sirius.api.common.ErrorResponseBody</span> <span class="na">error</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>   <span class="c1">// Object</span>
    <span class="p">}</span> 
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountGetDetailsResponseBody</span> <span class="p">{</span>
   <span class="n">AccountDetailsResponse</span> <span class="na">account_detail</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                   <span class="c1">// Object</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountDetailsResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                                                 <span class="c1">// 104000000</span>
  <span class="kt">int64</span> <span class="na">account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                         <span class="c1">// 103000000</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">createdAt</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                      <span class="c1">// "2020-09-08T13:10:34.719982+00:00"</span>
  <span class="kt">string</span> <span class="na">address</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                                           <span class="c1">// "bcrt1qnqx8ltjez3jak8f859y20darrhawa8rq73pank"</span>
  <span class="kt">string</span> <span class="na">blockchain_id</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                                     <span class="c1">// "bitcoin-private"</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">tag</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>                          <span class="c1">// null</span>
  <span class="n">swisschain.sirius.api.common.NullableTagType</span> <span class="na">tag_type</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>    <span class="c1">// null</span>
<span class="p">}</span>
</code></pre></div>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>id</code></td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the account details</td>
</tr>
<tr>
<td><code>blockchainId</code></td>
<td><code>blockchain_id</code></td>
<td><em>string</em></td>
<td>Blockchain ID</td>
</tr>
<tr>
<td><code>accountId</code></td>
<td><code>account_id</code></td>
<td><em>number</em></td>
<td>Id of the related Account</td>
</tr>
<tr>
<td><code>createdAt</code></td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the account details creation</td>
</tr>
<tr>
<td><code>address</code></td>
<td><code>address</code></td>
<td><em>number</em></td>
<td>Details public address</td>
</tr>
<tr>
<td><code>tag</code></td>
<td><code>tag</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Tag which is related to address (applicable for Stellar)</td>
</tr>
<tr>
<td><code>tagType</code></td>
<td><code>tag_type</code></td>
<td><em>optional</em>, <em><a href="#tag-type">TagType</a></em></td>
<td>Tag type</td>
</tr>
</tbody></table>
<h2 id='search-for-account-updates'>Search for account updates</h2><h3 id='request-6'>Request</h3>
<p><strong>gRPC API:</strong> <code>swisschain.sirius.api.accounts/GetUpdates</code></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
<th>example</th>
</tr>
</thead><tbody>
<tr>
<td>-</td>
<td><code>account_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Exact account id to search updates for</td>
<td>100000113</td>
</tr>
<tr>
<td>-</td>
<td><code>broker_account_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Exact broker account id to search</td>
<td>103000113</td>
</tr>
<tr>
<td>-</td>
<td><code>reference_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Account reference id</td>
<td>user reference</td>
</tr>
<tr>
<td>-</td>
<td><code>state</code></td>
<td><em>optional</em>, <em><a href="#account-state">AccountState</a></em></td>
<td>State of the account</td>
<td>creating</td>
</tr>
<tr>
<td>-</td>
<td><code>pagination.cursor</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Cursor to continue the search</td>
<td>11111110</td>
</tr>
</tbody></table>
<div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">GetUpdates</span>

<span class="err">&gt;</span> <span class="n">Requets</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span>

<span class="kd">message</span> <span class="nc">AccountUpdateSearchRequest</span> <span class="p">{</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">account_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>            <span class="c1">// 100000113</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>     <span class="c1">// 103000113</span>
  <span class="k">repeated</span> <span class="n">AccountStateModel</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                 <span class="c1">// AccountStateModel.Creating</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">reference_id</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>         <span class="c1">// user reference</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">cursor</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                <span class="c1">// 108000004 (could be empty)</span>
<span class="p">}</span>
</code></pre></div><h3 id='response-6'>Response</h3><div class="highlight"><pre class="highlight protobuf tab-protobuf"><code><span class="n">swisschain.sirius.api.accounts</span><span class="o">/</span><span class="n">GetUpdates</span>

<span class="err">&gt;</span> <span class="n">Response</span><span class="o">:</span> <span class="p">(</span><span class="n">application</span><span class="o">/</span><span class="n">grpc</span><span class="p">)</span> <span class="o">-</span> <span class="n">success</span> <span class="n">response</span>

<span class="kd">message</span> <span class="nc">AccountUpdateArrayResponse</span><span class="p">{</span>
  <span class="k">repeated</span> <span class="n">AccountUpdateResponse</span> <span class="na">items</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">message</span> <span class="nc">AccountUpdateResponse</span> <span class="p">{</span>
  <span class="kt">int64</span> <span class="na">account_update_id</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>                          <span class="c1">// 104000001        </span>
  <span class="kt">int64</span> <span class="na">account_id</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>                                 <span class="c1">// 103000158</span>
  <span class="kt">string</span> <span class="na">reference_id</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>                              <span class="c1">// "user reference" </span>
  <span class="kt">int64</span> <span class="na">broker_account_id</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>                          <span class="c1">// 100000113</span>
  <span class="n">AccountStateModel</span> <span class="na">state</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>                          <span class="c1">// AccountStateModel.Creating</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">createdAt</span> <span class="o">=</span> <span class="mi">6</span><span class="p">;</span>              <span class="c1">// "2021-03-26T14:14:46.089822+00:00"</span>
  <span class="n">google.protobuf.Timestamp</span> <span class="na">updatedAt</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>              <span class="c1">// "2021-03-26T14:14:46.089822+00:00"</span>
  <span class="n">google.protobuf.Int64Value</span> <span class="na">user_id</span> <span class="o">=</span> <span class="mi">8</span><span class="p">;</span>               <span class="c1">// 108000004</span>
  <span class="n">google.protobuf.StringValue</span> <span class="na">user_native_id</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>       <span class="c1">// "chainalysis-user-1"</span>
<span class="p">}</span>

</code></pre></div>
<p>Response is the stream of historical account updates and real time updates as well:</p>

<table><thead>
<tr>
<th>REST name</th>
<th>gRPC name</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>-</td>
<td><code>account_update_id</code></td>
<td><em>number</em></td>
<td>ID of the account update</td>
</tr>
<tr>
<td>-</td>
<td><code>id</code></td>
<td><em>number</em></td>
<td>ID of the account</td>
</tr>
<tr>
<td>-</td>
<td><code>reference_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Account reference id</td>
</tr>
<tr>
<td>-</td>
<td><code>broker_account_id</code></td>
<td><em>number</em></td>
<td>Id of the related Broker Account</td>
</tr>
<tr>
<td>-</td>
<td><code>status</code></td>
<td><em><a href="#account-state">AccountState</a></em></td>
<td>Status of the account</td>
</tr>
<tr>
<td>-</td>
<td><code>created_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the account creation</td>
</tr>
<tr>
<td>-</td>
<td><code>updated_at</code></td>
<td><em>timestamp</em></td>
<td>Date of the latest account update</td>
</tr>
<tr>
<td>-</td>
<td><code>user_id</code></td>
<td><em>optional</em>, <em>number</em></td>
<td>Id of the related user in the system (Needed for enabling AML on broker Account)</td>
</tr>
<tr>
<td>-</td>
<td><code>user_native_id</code></td>
<td><em>optional</em>, <em>string</em></td>
<td>Native Id of the user in customer&#39;s system</td>
</tr>
</tbody></table>
<h1 id='deposits'>Deposits</h1>
<p>Deposits reflects incoming transfers of the funds either to an account or directly to the broker account. You can get deposits history, or be notified about new deposits or state changing of the existing deposits. There are different options to be notified about deposits state changing:</p>

<ul>
<li>You can pull deposit updates REST API</li>
<li>You can listen for deposit updates gRPC stream</li>
<li>You can register a web-hook get the notifications (coming soon)</li>
</ul>

<p>Every deposit is associated with a broker account, an asset, optionally an account, it has amount, fees and state. If the account associated with the deposit has reference ID, you can find this value in the deposit too. </p>

<p>In the case if the deposit amount is
too small to transfer funds from the account address to the broker account address because amount even doesn&#39;t cover fees or not significantly greater than fees, the deposited funds will be keept on the account address until the next deposit with enough amount. We use term &quot;Tiny&quot; for such deposits. If deposit destination is a broker account instead of an account, we name such deposits &quot;Broker deposits&quot;.</p>

<p>The lifecycle of a deposit:</p>

<p><img src="https://github.com/swisschain/Sirius.Api.Docs/raw/master/source/images/deposit-lyfecycle.png" alt="Deposit lifecycle"/></p>
<h2 id='searches-deposits'>Searches deposits</h2><h3 id='request'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/deposits</code></p>
<h3 id='parameters'>Parameters</h3><h3 id='query-parameters'>Query Parameters</h3><h3 id='response'>Response</h3>
<blockquote>
<p>GET /api/deposits 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='searches-deposit-updates'>Searches deposit updates</h2><h3 id='request-2'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/deposit-updates</code></p>
<h3 id='parameters-2'>Parameters</h3><h3 id='query-parameters-2'>Query Parameters</h3><h3 id='response-2'>Response</h3>
<blockquote>
<p>GET /api/deposit-updates 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='withdrawals'>Withdrawals</h1>
<p>Withdrawals reflects outgoing transfers of the funds from a broker account. You can get withdrawals history, or be notified about new withdrawals and state changing of the existing withdrawals. There are different options to be notified about withdrawals state changing:</p>

<ul>
<li>You can pull withdrawals updates REST API</li>
<li>You can listen for withdrawal updates gRPC stream</li>
<li>You can register a web-hook get the notifications (coming soon)</li>
</ul>

<p>Withdrawal can be initiated by you via API or Universe portal UI. Every withdrawal is associated with a broker account, an asset, optionally an account, it has amount, fees and state. If you use reference ID for the accounts, you can specify either account ID or reference ID, to associate an account to the withdrawal. This link doesn&#39;t affect funds flow, it&#39;s used just for the reporting.</p>

<p>The fees required for the withdrawal transaction are paid atop of the specified amount.</p>

<p>The lifecycle of a withdrawal:</p>

<p><img src="https://github.com/swisschain/Sirius.Api.Docs/raw/master/source/images/withdrawal-lyfecycle.png" alt="Withdrawal lifecycle"/></p>
<h2 id='starts-a-withdrawal'>Starts a withdrawal</h2><h3 id='request'>Request</h3>
<p><strong>Rest API:</strong> <code>POST /api/withdrawals</code></p>
<h3 id='parameters'>Parameters</h3>
<p><code>document</code> field of the request should be a JSON-formatted document describing the withdrawals parameters.</p>
<div class="highlight"><pre class="highlight plaintext"><code>Withdral document format:

{
    "version": "string", // "1.0"
    "brokerAccountId": 1000000,
    "accountId": 1000000, // Optional
    "accountReferenceId": "string", // Optional
    "withdrawalReferenceId": "string", // Optional
    "assetId": 1000000,
    "amount": 12.345,
    "destinationDetails": {
        "address": "string", // Blockchain address
        "tag": "string", // Optional
        "tagType": "string", // Optional - ("text", "number")
    }
}
</code></pre></div><h3 id='query-parameters'>Query Parameters</h3><h3 id='response'>Response</h3>
<blockquote>
<p>POST /api/withdrawals 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='searches-withdrawals'>Searches withdrawals</h2><h3 id='request-2'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/withdrawals</code></p>
<h3 id='parameters-2'>Parameters</h3><h3 id='query-parameters-2'>Query Parameters</h3><h3 id='response-2'>Response</h3>
<blockquote>
<p>GET /api/withdrawals 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h2 id='searches-withdrawal-updates'>Searches withdrawal updates</h2><h3 id='request-3'>Request</h3>
<p><strong>Rest API:</strong> <code>GET /api/withdrawal-updates</code></p>
<h3 id='parameters-3'>Parameters</h3><h3 id='query-parameters-3'>Query Parameters</h3><h3 id='response-3'>Response</h3>
<blockquote>
<p>GET /api/withdrawal-updates 200 OK</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h1 id='data-structures'>Data structures</h1><h2 id='order-enum'>Order (enum)</h2>
<p>Order of the sorting</p>

<ul>
<li><code>asc</code> - Ascending sorting order</li>
<li><code>desc</code> - Descending sorting order</li>
</ul>
<h2 id='networktype-enum'>NetworkType (enum)</h2>
<p>Type of a blockchain network</p>

<ul>
<li><code>private</code> - Private blockchain.</li>
<li><code>test</code> - Public test blockchain.</li>
<li><code>public</code> - Public mainnet blockchain.</li>
</ul>
<h2 id='blockchainprotocol-object'>BlockchainProtocol (object)</h2>
<ul>
<li><code>code</code> (<em>string</em>) - Code of the protocol. (eg. &quot;bitcoin&quot;).</li>
<li><code>name</code> (<em>string</em>) - Name of the protocol. (eg. &quot;Bitcoin&quot;).</li>
<li><code>startBlockNumber</code> (<em>number</em>) - Number of the first block in the blockchain. Usually 0 or 1.</li>
<li><code>requirements</code> (<em>object</em>) - Requirements of the protocol.

<ul>
<li><code>publicKey</code> (<em>boolean</em>) - Indicates, if source address public key is required to build a transaction. (eg. <code>true</code>).</li>
</ul></li>
<li><code>capabilities</code> (<em>object</em>) - Capabilities of the protocol.

<ul>
<li><code>destinationTag</code> (<em>optional</em>, <em>object</em>) - Capabilities of the protocol related to the destination tag. <code>null</code> if destination tag is not supported.

<ul>
<li><code>number</code> (<em>optional</em>, <em>object</em>) - Capabilities of the protocol related to the <code>Number</code> <a href="#TagType">TagType</a>. <code>null</code> if <code>Number</code> tag is not suppoerted.

<ul>
<li><code>min</code> (<em>number</em>) - Minimum number supported by the <code>Number</code> destination tag. (eg. 1).</li>
<li><code>max</code> (<em>number</em>) - Maximum number supported by the <code>Number</code> destination tag. (eg. 9223372036854776000).</li>
<li><code>name</code> (<em>string</em>) - Name of the <code>Number</code> tag field which is accepted in the given blockchain. (eg. &quot;Memo ID&quot;).</li>
</ul></li>
<li><code>text</code> (<em>optional</em>, <em>object</em>) - Capabilities of the protocol related to the <code>Text</code> <a href="#TagType">TagType</a>. <code>null</code> if the <code>Text</code> tag is not supported.

<ul>
<li><code>maxLength</code> (<em>number</em>) - Mximum length of the <code>Text</code> destination tag. (eg. 28).</li>
<li><code>name</code> (<em>string</em>) - Name of the <code>Text</code> tag field which is accepted in the given blockchain. (eg. &quot;Memo text&quot;).</li>
</ul></li>
<li><code>doubleSpendingProtectionType</code> (<em><a href="#DoubleSpendingProtectionType">DoubleSpendingProtectionType</a></em>) - Type of the protection agains funds double spending (eg. <code>coins</code>).</li>
</ul></li>
</ul></li>
</ul>
<h2 id='tagtype-enum'>TagType (enum)</h2>
<p>Tag type of the account. Tag is an additional information associated with particular account, 
which can be specified in the blockchain transaction. This allows to use single blockchain 
address to handle many accounts on it. This feature is available only on some blockchains: 
(Ripple, Stellar, Eos...). In some blockchains different types of the tag are supported
and you have to specify exact type in this case.</p>

<ul>
<li><code>text</code> - text tag</li>
<li><code>number</code> - numeric tag</li>
</ul>
<h2 id='doublespendingprotectiontype-enum'>DoubleSpendingProtectionType (enum)</h2>
<p>Each blockchain use some protection mechanism agains funds double-spending. Sirius distinguish next types:</p>

<ul>
<li><code>coins</code> - Coins are used to transfer funds. (eg. Bitcoin, Dash)</li>
<li><code>nonce</code> - Nonce number (sequence) is used to distinguish outgoing transactions. (eg. Ethereum, Stellar)</li>
</ul>
<h2 id='brokeraccountstate-enum'>BrokerAccountState (enum)</h2>
<p>State of the broker account</p>

<ul>
<li><code>creating</code> - The broker account is not fully created yet, you need to wait a bit, while Sirius complete its creation. You can create accounts within it, but not receive or send transfers.</li>
<li><code>active</code> - The broker account is active and can be used as usual.</li>
<li><code>blocked</code> - The broker account is blocked - processing of all deposits and withdrawals is on hold.</li>
</ul>
<h2 id='accountstate-enum'>AccountState (enum)</h2>
<p>State of the account</p>

<ul>
<li><code>creating</code> - The account is not fully created yet, you need to wait a bit, while Sirius complete its creation. You can&#39;t receive or send transfers.</li>
<li><code>active</code> - The account is active and can be used as usual.</li>
<li><code>blocked</code> - The account is blocked - processing of all deposits and withdrawals is on hold.</li>
</ul>
<h2 id='vaulttype-enum'>VaultType (enum)</h2>
<p>Type of the vault</p>

<ul>
<li><code>private</code> - The vault executing on the customer&#39;s environment</li>
<li><code>shared</code> - The shared vault executing on the SwissChain environment used by different customers</li>
</ul>
<h2 id='brokeraccountdetails-object'>BrokerAccountDetails (object)</h2>
<p>Details of the broker account</p>

<ul>
<li><code>id</code> (<em>number</em>) - Unique ID.</li>
<li><code>brokerAccountId</code> (<em>number</em>) - Broker account ID.</li>
<li><code>createdAt</code> (<em>timestamp</em>)- Creation time of the details.</li>
<li><code>address</code> (<em>string</em>) - Blockchain address of the details.</li>
<li><code>blockchainId</code> (<em>string</em>) - Blockchain ID of the details.</li>
</ul>
<h2 id='brokeraccountdetailsbrief-object'>BrokerAccountDetailsBrief (object)</h2>
<p>Brief broker account details</p>

<ul>
<li><code>id</code> (<em>number</em>) - Unique ID.</li>
<li><code>address</code> (<em>string</em>) - Blockchain address of the details.</li>
</ul>
<h2 id='accountdetails-object'>AccountDetails (object)</h2>
<p>Details of the account</p>

<ul>
<li><code>id</code> (<em>number</em>) - Unique ID.</li>
<li><code>accountId</code> (<em>number</em>) - Account ID.</li>
<li><code>createdAt</code> (<em>timestamp</em>) - Creation time of the details.</li>
<li><code>address</code> (<em>string</em>) - Blockchain address of the details.</li>
<li><code>blockchainId</code> (<em>string</em>) - Blockchain ID of the details.</li>
<li><code>tag</code> (<em>optional</em>, <em>string</em>) - Tag of the details.</li>
<li><code>tagType</code> (<em>optional</em>, <em><a href="#/data-structures/0/tag-type">TagType</a></em>) - Type of the details tag.</li>
</ul>
<h2 id='accountdetailsbrief-object'>AccountDetailsBrief (object)</h2>
<p>Brief details of the account</p>

<ul>
<li><code>id</code> (<em>number</em>) - Unique ID.</li>
<li><code>address</code> (<em>string</em>) - Blockchain address of the details.</li>
<li><code>tag</code> (<em>optional</em>, <em>string</em>) - Tag of the details.</li>
<li><code>tagType</code> (<em>optional</em>, <em>[TagType](#TagType</em>) - Type of the details tag.</li>
</ul>
<h2 id='brokeraccountbalances-object'>BrokerAccountBalances (object)</h2>
<p>Balances of the broker account in a particular asset. We distinguish 4 different balances
for each asset in each broker account.</p>

<ul>
<li><code>id</code> (<em>number</em>) - Unique ID.</li>
<li><code>brokerAccountId</code> (<em>number</em>) - Broker account ID.</li>
<li><code>assetId</code> (<em>number</em>) - Asset ID.</li>
<li><code>ownedBalance</code> (<em>number</em>) - Balance owned by the broker.</li>
<li><code>availableBalance</code> (<em>number</em>) - Balance available for a withdrawal.</li>
<li><code>pendingBalance</code> (<em>number</em>) - Balance which is being deposited, but not completely transferred yet.</li>
<li><code>reservedBalance</code> (<em>number</em>) - Balance which is being withdrawn, but not completely transferred yet.</li>
<li><code>createdAt</code> (<em>timestamp</em>) - Creation time of the balances.</li>
<li><code>updatedAt</code> (<em>timestamp</em>) - The update time of the balances.</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="protobuf">protobuf</a>
                <a href="#" data-language-name="json">json</a>
          </div>
      </div>
    </div>
  </body>
</html>
